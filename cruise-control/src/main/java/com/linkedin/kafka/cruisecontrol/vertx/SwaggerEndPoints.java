/*
 * Copyright 2018 LinkedIn Corp. Licensed under the BSD 2-Clause License (the "License"). See License in the project root for license information.
 */

package com.linkedin.kafka.cruisecontrol.vertx;

import io.swagger.v3.oas.annotations.Operation;
import io.swagger.v3.oas.annotations.Parameter;
import io.swagger.v3.oas.annotations.enums.ParameterIn;
import io.swagger.v3.oas.annotations.media.Content;
import io.swagger.v3.oas.annotations.media.Encoding;
import io.swagger.v3.oas.annotations.media.Schema;
import io.swagger.v3.oas.annotations.responses.ApiResponse;
import io.vertx.ext.web.RoutingContext;

public interface SwaggerEndPoints {

    @Operation(summary = "Gives partition healthiness on the cluster.", method = "GET", operationId = "kafka_cluster_state",
            tags = {
                    "GET"
            },
            parameters = {
                    @Parameter(in = ParameterIn.QUERY, name = "topic",
                            description = "Regular expression to filter partition state to report based on partition's topic.", schema = @Schema(type = "regex")),
                    @Parameter(in = ParameterIn.QUERY, name = "json",
                            description = "Return in JSON format or not.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "verbose",
                            description = "Return detailed state information.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "doAs",
                            description = "Propagated user by the trusted proxy service.", schema = @Schema(type = "string"))

            },
            responses = {
                    @ApiResponse(responseCode = "200", description = "OK",
                            content =
                            @Content(
                                    mediaType = "application/json",
                                    encoding = @Encoding(contentType = "application/json"),
                                    schema = @Schema(name = "jsonState", example =
                                            "{\"KafkaPartitionState\":{\"offline\":[],\"urp\":[],\"with-offline-replicas\":[],\"under-min-isr\":[]},\"KafkaBrokerState\":{\"IsController\":{\"0\":true,\"1\":false,\"2\":false},\"OfflineLogDirsByBrokerId\":{\"0\":[],\"1\":[],\"2\":[]},\"ReplicaCountByBrokerId\":{\"0\":46,\"1\":44,\"2\":39},\"OutOfSyncCountByBrokerId\":{},\"Summary\":{\"StdLeadersPerBroker\":1.8856180831641267,\"Leaders\":65,\"MaxLeadersPerBroker\":23,\"Topics\":3,\"MaxReplicasPerBroker\":46,\"StdReplicasPerBroker\":2.943920288775949,\"Brokers\":3,\"AvgReplicationFactor\":1.9846153846153847,\"AvgLeadersPerBroker\":21.666666666666668,\"Replicas\":129,\"AvgReplicasPerBroker\":43.0},\"OnlineLogDirsByBrokerId\":{\"0\":[\"/tmp/kafka-logs-0\"],\"1\":[\"/tmp/kafka-logs-1\"],\"2\":[\"/tmp/kafka-logs-2\"]},\"LeaderCountByBrokerId\":{\"0\":23,\"1\":23,\"2\":19},\"OfflineReplicaCountByBrokerId\":{}},\"version\":1}"
                                            )
                            )
                    ),
                    @ApiResponse(responseCode = "404", description = "Not found."),
                    @ApiResponse(responseCode = "500", description = "Internal Server Error.")
            }
    )
    void kafkaClusterState(RoutingContext context);

    @Operation(summary = "Returns Cruise Control State", method = "GET", operationId = "state",
            tags = {
                    "GET"
            },
            parameters = {
                    @Parameter(in = ParameterIn.QUERY, name = "substates",
                            description = "Substates for which to retrieve state from cruise-control, available substates are analyzer, monitor, executor and anomaly_detector.", schema = @Schema(type = "list")),
                    @Parameter(in = ParameterIn.QUERY, name = "json",
                            description = "Return in JSON format or not.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "verbose",
                            description = "Return detailed state information.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "super_verbose",
                            description = "Return more detailed state information.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "doAs",
                            description = "Propagated user by the trusted proxy service.", schema = @Schema(type = "string"))

            },
            responses = {
                    @ApiResponse(responseCode = "200", description = "OK",
                            content =
                            @Content(
                                    mediaType = "application/json",
                                    encoding = @Encoding(contentType = "application/json"),
                                    schema = @Schema(name = "jsonState", example =
                                            "{\"AnalyzerState\":{\"isProposalReady\":false,\"readyGoals\":[]},\"MonitorState\":{\"trainingPct\":0.0,\"trained\":false,\"numFlawedPartitions\":0,\"state\":\"RUNNING\",\"numTotalPartitions\":0,\"numMonitoredWindows\":0,\"monitoringCoveragePct\":0.0,\"reasonOfLatestPauseOrResume\":\"N/A\",\"numValidPartitions\":0},\"ExecutorState\":{\"state\":\"NO_TASK_IN_PROGRESS\"},\"AnomalyDetectorState\":{\"recentBrokerFailures\":[],\"recentGoalViolations\":[],\"selfHealingDisabled\":[\"DISK_FAILURE\",\"BROKER_FAILURE\",\"GOAL_VIOLATION\",\"METRIC_ANOMALY\",\"TOPIC_ANOMALY\",\"MAINTENANCE_EVENT\"],\"balancednessScore\":100.0,\"selfHealingEnabled\":[],\"recentDiskFailures\":[],\"metrics\":{\"meanTimeToStartFixMs\":0.0,\"numSelfHealingStarted\":0,\"ongoingAnomalyDurationMs\":0,\"numSelfHealingFailedToStart\":0,\"meanTimeBetweenAnomaliesMs\":{\"DISK_FAILURE\":0.0,\"TOPIC_ANOMALY\":0.0,\"METRIC_ANOMALY\":0.0,\"GOAL_VIOLATION\":0.0,\"BROKER_FAILURE\":0.0,\"MAINTENANCE_EVENT\":0.0}},\"recentMetricAnomalies\":[],\"recentTopicAnomalies\":[],\"selfHealingEnabledRatio\":{\"DISK_FAILURE\":0.0,\"BROKER_FAILURE\":0.0,\"METRIC_ANOMALY\":0.0,\"GOAL_VIOLATION\":0.0,\"TOPIC_ANOMALY\":0.0,\"MAINTENANCE_EVENT\":0.0},\"recentMaintenanceEvents\":[]},\"version\":1}")
                            )
                    ),
                    @ApiResponse(responseCode = "404", description = "Not found."),
                    @ApiResponse(responseCode = "500", description = "Internal Server Error.")
            }
    )
    void cruiseControlState(RoutingContext context);

    @Operation(summary = "Once Cruise Control load Monitor shows it is in the RUNNING state, Users can use the following HTTP GET to get the cluster load.", method = "GET", operationId = "load",
            tags = {
                    "GET"
            },
            parameters = {
                    @Parameter(in = ParameterIn.QUERY, name = "start",
                            description = "Start time of the cluster load.", schema = @Schema(type = "long")),
                    @Parameter(in = ParameterIn.QUERY, name = "end",
                            description = "End time of the cluster load.", schema = @Schema(type = "long")),
                    @Parameter(in = ParameterIn.QUERY, name = "time",
                            description = "End time of the cluster load.", schema = @Schema(type = "long")),
                    @Parameter(in = ParameterIn.QUERY, name = "allow_capacity_estimation",
                            description = "Whether to allow broker capacity to be estimated from other broker in the cluster.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "populate_disk_info",
                            description = "Whether show the load of each disk of broker.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "capacity_only",
                            description = "Whether show only the cluster capacity or the utilization, as well.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "json",
                            description = "Return in JSON format or not.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "verbose",
                            description = "Return detailed state information.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "doAs",
                            description = "Propagated user by the trusted proxy service.", schema = @Schema(type = "string"))

            },
            responses = {
                    @ApiResponse(responseCode = "200", description = "OK",
                            content =
                            @Content(
                                    mediaType = "application/json",
                                    encoding = @Encoding(contentType = "application/json"),
                                    schema = @Schema(name = "jsonState", example =
                                            "{\"version\":1,\"hosts\":[{\"FollowerNwInRate\":0.014293974731117487,\"NwOutRate\":0.06564007233828306,\"NumCore\":3,\"Host\":\"192.168.0.11\",\"CpuPct\":0.08263505232753232,\"Replicas\":130,\"NetworkInCapacity\":110000.0,\"Rack\":\"192.168.0.11\",\"Leaders\":66,\"DiskCapacityMB\":1500000.0,\"DiskMB\":1.094893455505371,\"PnwOutRate\":0.07993405126035213,\"NetworkOutCapacity\":110000.0,\"LeaderNwInRate\":0.0835624267347157,\"DiskPct\":7.299289703369141E-5}],\"brokers\":[{\"FollowerNwInRate\":0.005009444896131754,\"BrokerState\":\"ALIVE\",\"Broker\":0,\"NwOutRate\":0.0048812623135745525,\"NumCore\":1,\"Host\":\"192.168.0.11\",\"CpuPct\":2.4598828167654574E-4,\"Replicas\":44,\"NetworkInCapacity\":50000.0,\"Rack\":\"192.168.0.11\",\"Leaders\":22,\"DiskCapacityMB\":500000.0,\"DiskMB\":0.027019500732421875,\"PnwOutRate\":0.009890707209706306,\"NetworkOutCapacity\":50000.0,\"LeaderNwInRate\":0.0048812623135745525,\"DiskPct\":5.403900146484375E-6},{\"FollowerNwInRate\":0.003591161221265793,\"BrokerState\":\"ALIVE\",\"Broker\":1,\"NwOutRate\":0.0066679054871201515,\"NumCore\":1,\"Host\":\"192.168.0.11\",\"CpuPct\":2.4598828167654574E-4,\"Replicas\":43,\"NetworkInCapacity\":50000.0,\"Rack\":\"192.168.0.11\",\"Leaders\":23,\"DiskCapacityMB\":500000.0,\"DiskMB\":0.03095245361328125,\"PnwOutRate\":0.010259066708385944,\"NetworkOutCapacity\":50000.0,\"LeaderNwInRate\":0.0066679054871201515,\"DiskPct\":6.19049072265625E-6},{\"FollowerNwInRate\":0.00569336861371994,\"BrokerState\":\"ALIVE\",\"Broker\":2,\"NwOutRate\":0.05409090453758836,\"NumCore\":1,\"Host\":\"192.168.0.11\",\"CpuPct\":0.08214307576417923,\"Replicas\":43,\"NetworkInCapacity\":10000.0,\"Rack\":\"192.168.0.11\",\"Leaders\":21,\"DiskCapacityMB\":500000.0,\"DiskMB\":1.036921501159668,\"PnwOutRate\":0.059784277342259884,\"NetworkOutCapacity\":10000.0,\"LeaderNwInRate\":0.072013258934021,\"DiskPct\":2.073843002319336E-4}]}")
                            )
                    ),
                    @ApiResponse(responseCode = "404", description = "Not found."),
                    @ApiResponse(responseCode = "500", description = "Internal Server Error.")
            }
    )
    void load(RoutingContext context);

    @Operation(summary = "Returns a full list of all the active/completed(and not recycled) tasks inside Cruise Control.", method = "GET", operationId = "user_tasks",
            tags = {
                    "GET"
            },
            parameters = {
                    @Parameter(in = ParameterIn.QUERY, name = "user_task_ids",
                            description = "Comma separated UUIDs to filter the task results Cruise Control report.", schema = @Schema(type = "list")),
                    @Parameter(in = ParameterIn.QUERY, name = "client_ids",
                            description = "Comma separated IP addresses to filter the task results Cruise Control report.", schema = @Schema(type = "list")),
                    @Parameter(in = ParameterIn.QUERY, name = "entries",
                            description = "Number of partition load entries to report in response.", schema = @Schema(type = "integer")),
                    @Parameter(in = ParameterIn.QUERY, name = "endpoints",
                            description = "Comma separated endpoints to filter the task results Cruise Control report.", schema = @Schema(type = "list")),
                    @Parameter(in = ParameterIn.QUERY, name = "types",
                            description = "Comma separated HTTP request types to filter the task results Cruise Control report.", schema = @Schema(type = "types")),
                    @Parameter(in = ParameterIn.QUERY, name = "capacity_only",
                            description = "Whether show only the cluster capacity or the utilization, as well.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "json",
                            description = "Return in JSON format or not.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "fetch_completed_task",
                            description = "Whether return the original request's final response.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "doAs",
                            description = "Propagated user by the trusted proxy service.", schema = @Schema(type = "string"))

            },
            responses = {
                    @ApiResponse(responseCode = "200", description = "OK",
                            content =
                            @Content(
                                    mediaType = "application/json",
                                    encoding = @Encoding(contentType = "application/json"),
                                    schema = @Schema(name = "jsonState", example =
                                            "{\"userTasks\":[{\"Status\":\"Completed\",\"UserTaskId\":\"32d279e0-6a1b-48ea-88f4-f1a6fe38a161\",\"StartMs\":\"1629536818003\",\"ClientIdentity\":\"[0:0:0:0:0:0:0:1]\",\"RequestURL\":\"GET /state\"},{\"Status\":\"Completed\",\"UserTaskId\":\"9009c120-0515-4870-b577-23cfe94d0f77\",\"StartMs\":\"1629536867061\",\"ClientIdentity\":\"[0:0:0:0:0:0:0:1]\",\"RequestURL\":\"GET /state\"},{\"Status\":\"Completed\",\"UserTaskId\":\"3873d13c-14d4-49e8-958e-06200ff59559\",\"StartMs\":\"1629537791780\",\"ClientIdentity\":\"[0:0:0:0:0:0:0:1]\",\"RequestURL\":\"GET /load\"},{\"Status\":\"Completed\",\"UserTaskId\":\"476927fb-0104-47a3-b9b1-3169b9585dc6\",\"StartMs\":\"1629537799869\",\"ClientIdentity\":\"[0:0:0:0:0:0:0:1]\",\"RequestURL\":\"GET /load?josn\\u003dtrue\"},{\"Status\":\"Completed\",\"UserTaskId\":\"debeb0c0-d6f5-47e0-87ff-ec8c6874cf9a\",\"StartMs\":\"1629537810556\",\"ClientIdentity\":\"[0:0:0:0:0:0:0:1]\",\"RequestURL\":\"GET /load?json\\u003dtrue\"}],\"version\":1}")
                            )
                    ),
                    @ApiResponse(responseCode = "404", description = "Not found."),
                    @ApiResponse(responseCode = "500", description = "Internal Server Error.")
            }
    )
    void userTasks(RoutingContext context);

    @Operation(summary = "Gives the partition load sorted by the utilization of a given resource.", method = "GET", operationId = "partition_load",
            tags = {
                    "GET"
            },
            parameters = {
                    @Parameter(in = ParameterIn.QUERY, name = "resource",
                            description = "Resource type to sort partition load, available resources are DISK/CPU/NW_IN/NW_OUT.", schema = @Schema(type = "string")),
                    @Parameter(in = ParameterIn.QUERY, name = "start",
                            description = "The timestamp in millisecond of the earliest metric sample use to generate load.", schema = @Schema(type = "long")),
                    @Parameter(in = ParameterIn.QUERY, name = "end",
                            description = "The timestamp in millisecond of the latest metric sample use to generate load.", schema = @Schema(type = "long")),
                    @Parameter(in = ParameterIn.QUERY, name = "entries",
                            description = "Number of partition load entries to report in response.", schema = @Schema(type = "integer")),
                    @Parameter(in = ParameterIn.QUERY, name = "json",
                            description = "Return in JSON format or not.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "allow_capacity_estimation",
                            description = "Whether to allow capacity estimation when cruise-control is unable to obtain all per-broker capacity information.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "max_load",
                            description = "Whether report the max load for partition in windows.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "avg_load",
                            description = "Whether report the average load for partition in windows.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "topic",
                            description = "Regular expression to filter partition load to report based on partition's topic.", schema = @Schema(type = "regex")),
                    @Parameter(in = ParameterIn.QUERY, name = "partition",
                            description = "Partition number(e.g. 10) range(e.g. 1-10) to filter partition load to report.", schema = @Schema(type = "integer/range")),
                    @Parameter(in = ParameterIn.QUERY, name = "min_valid_partition_ratio",
                            description = "Minimal valid partition ratio requirement for cluster model.", schema = @Schema(type = "double")),
                    @Parameter(in = ParameterIn.QUERY, name = "brokerid",
                            description = "Broker id to to filter partition load to report.", schema = @Schema(type = "int")),
                    @Parameter(in = ParameterIn.QUERY, name = "doAs",
                            description = "Propagated user by the trusted proxy service.", schema = @Schema(type = "string"))

            },
            responses = {
                    @ApiResponse(responseCode = "200", description = "OK",
                            content =
                            @Content(
                                    mediaType = "application/json",
                                    encoding = @Encoding(contentType = "application/json"),
                                    schema = @Schema(name = "jsonState", example =
                                            "{\"records\":[{\"leader\":2,\"disk\":0.0381927490234375,\"partition\":0,\"followers\":[],\"msg_in\":4.770534992218018,\"topic\":\"__CruiseControlMetrics\",\"cpu\":0.08448822051286697,\"networkOutbound\":0.10010731220245361,\"networkInbound\":0.04455564171075821},{\"leader\":2,\"disk\":9.794235229492188E-4,\"partition\":30,\"followers\":[0],\"msg_in\":0.09136062115430832,\"topic\":\"__KafkaCruiseControlPartitionMetricSamples\",\"cpu\":0.0017388327978551388,\"networkOutbound\":0.00135068001691252,\"networkInbound\":0.00135068001691252},{\"leader\":2,\"disk\":9.355545043945312E-4,\"partition\":12,\"followers\":[0],\"msg_in\":0.09136062115430832,\"topic\":\"__KafkaCruiseControlPartitionMetricSamples\",\"cpu\":0.0017388327978551388,\"networkOutbound\":0.00135068001691252,\"networkInbound\":0.00135068001691252},{\"leader\":1,\"disk\":8.974075317382812E-4,\"partition\":13,\"followers\":[2],\"msg_in\":0.07918345928192139,\"topic\":\"__KafkaCruiseControlPartitionMetricSamples\",\"cpu\":0.0,\"networkOutbound\":0.0011194655671715736,\"networkInbound\":0.0011194655671715736},{\"leader\":0,\"disk\":8.85009765625E-4,\"partition\":29,\"followers\":[2],\"msg_in\":0.11304149031639099,\"topic\":\"__KafkaCruiseControlPartitionMetricSamples\",\"cpu\":0.0,\"networkOutbound\":0.001367346616461873,\"networkInbound\":0.001367346616461873},{\"leader\":0,\"disk\":7.59124755859375E-4,\"partition\":17,\"followers\":[2],\"msg_in\":0.11304149031639099,\"topic\":\"__KafkaCruiseControlPartitionMetricSamples\",\"cpu\":0.0,\"networkOutbound\":0.001367346616461873,\"networkInbound\":0.001367346616461873},{\"leader\":0,\"disk\":6.0272216796875E-4,\"partition\":5,\"followers\":[1],\"msg_in\":0.006292549427598715,\"topic\":\"__KafkaCruiseControlModelTrainingSamples\",\"cpu\":0.0,\"networkOutbound\":0.0012945608468726277,\"networkInbound\":0.0012945608468726277},{\"leader\":2,\"disk\":6.008148193359375E-4,\"partition\":30,\"followers\":[1],\"msg_in\":0.003375930478796363,\"topic\":\"__KafkaCruiseControlModelTrainingSamples\",\"cpu\":7.844195934012532E-4,\"networkOutbound\":5.690616089850664E-4,\"networkInbound\":5.690616089850664E-4},{\"leader\":2,\"disk\":5.884170532226562E-4,\"partition\":24,\"followers\":[1],\"msg_in\":0.003375930478796363,\"topic\":\"__KafkaCruiseControlModelTrainingSamples\",\"cpu\":7.844195934012532E-4,\"networkOutbound\":5.690616089850664E-4,\"networkInbound\":5.690616089850664E-4},{\"leader\":2,\"disk\":5.445480346679688E-4,\"partition\":0,\"followers\":[1],\"msg_in\":0.003375930478796363,\"topic\":\"__KafkaCruiseControlModelTrainingSamples\",\"cpu\":7.844195934012532E-4,\"networkOutbound\":5.690616089850664E-4,\"networkInbound\":5.690616089850664E-4},{\"leader\":2,\"disk\":4.711151123046875E-4,\"partition\":3,\"followers\":[0],\"msg_in\":0.003375930478796363,\"topic\":\"__KafkaCruiseControlModelTrainingSamples\",\"cpu\":7.844195934012532E-4,\"networkOutbound\":5.690616089850664E-4,\"networkInbound\":5.690616089850664E-4},{\"leader\":1,\"disk\":0.0,\"partition\":10,\"followers\":[2],\"msg_in\":0.0,\"topic\":\"__KafkaCruiseControlModelTrainingSamples\",\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0},{\"leader\":1,\"disk\":0.0,\"partition\":16,\"followers\":[0],\"msg_in\":0.07918345928192139,\"topic\":\"__KafkaCruiseControlPartitionMetricSamples\",\"cpu\":0.0,\"networkOutbound\":0.0011194655671715736,\"networkInbound\":0.0011194655671715736},{\"leader\":0,\"disk\":0.0,\"partition\":14,\"followers\":[2],\"msg_in\":0.006292549427598715,\"topic\":\"__KafkaCruiseControlModelTrainingSamples\",\"cpu\":0.0,\"networkOutbound\":0.0012945608468726277,\"networkInbound\":0.0012945608468726277},{\"leader\":2,\"disk\":0.0,\"partition\":18,\"followers\":[1],\"msg_in\":0.003375930478796363,\"topic\":\"__KafkaCruiseControlModelTrainingSamples\",\"cpu\":7.844195934012532E-4,\"networkOutbound\":5.690616089850664E-4,\"networkInbound\":5.690616089850664E-4},{\"leader\":0,\"disk\":0.0,\"partition\":8,\"followers\":[1],\"msg_in\":0.11304149031639099,\"topic\":\"__KafkaCruiseControlPartitionMetricSamples\",\"cpu\":0.0,\"networkOutbound\":0.001367346616461873,\"networkInbound\":0.001367346616461873},{\"leader\":1,\"disk\":0.0,\"partition\":22,\"followers\":[2],\"msg_in\":0.0,\"topic\":\"__KafkaCruiseControlModelTrainingSamples\",\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0},{\"leader\":1,\"disk\":0.0,\"partition\":4,\"followers\":[0],\"msg_in\":0.07918345928192139,\"topic\":\"__KafkaCruiseControlPartitionMetricSamples\",\"cpu\":0.0,\"networkOutbound\":0.0011194655671715736,\"networkInbound\":0.0011194655671715736},{\"leader\":0,\"disk\":0.0,\"partition\":26,\"followers\":[2],\"msg_in\":0.006292549427598715,\"topic\":\"__KafkaCruiseControlModelTrainingSamples\",\"cpu\":0.0,\"networkOutbound\":0.0012945608468726277,\"networkInbound\":0.0012945608468726277},{\"leader\":2,\"disk\":0.0,\"partition\":0,\"followers\":[0],\"msg_in\":0.09136062115430832,\"topic\":\"__KafkaCruiseControlPartitionMetricSamples\",\"cpu\":0.0017388327978551388,\"networkOutbound\":0.00135068001691252,\"networkInbound\":0.00135068001691252},{\"leader\":1,\"disk\":0.0,\"partition\":1,\"followers\":[0],\"msg_in\":0.0,\"topic\":\"__KafkaCruiseControlModelTrainingSamples\",\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0},{\"leader\":1,\"disk\":0.0,\"partition\":25,\"followers\":[2],\"msg_in\":0.07918345928192139,\"topic\":\"__KafkaCruiseControlPartitionMetricSamples\",\"cpu\":0.0,\"networkOutbound\":0.0011194655671715736,\"networkInbound\":0.0011194655671715736},{\"leader\":2,\"disk\":0.0,\"partition\":21,\"followers\":[1],\"msg_in\":0.09136062115430832,\"topic\":\"__KafkaCruiseControlPartitionMetricSamples\",\"cpu\":0.0017388327978551388,\"networkOutbound\":0.00135068001691252,\"networkInbound\":0.00135068001691252},{\"leader\":2,\"disk\":0.0,\"partition\":9,\"followers\":[0],\"msg_in\":0.003375930478796363,\"topic\":\"__KafkaCruiseControlModelTrainingSamples\",\"cpu\":7.844195934012532E-4,\"networkOutbound\":5.690616089850664E-4,\"networkInbound\":5.690616089850664E-4},{\"leader\":1,\"disk\":0.0,\"partition\":13,\"followers\":[0],\"msg_in\":0.0,\"topic\":\"__KafkaCruiseControlModelTrainingSamples\",\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0},{\"leader\":0,\"disk\":0.0,\"partition\":17,\"followers\":[1],\"msg_in\":0.006292549427598715,\"topic\":\"__KafkaCruiseControlModelTrainingSamples\",\"cpu\":0.0,\"networkOutbound\":0.0012945608468726277,\"networkInbound\":0.0012945608468726277},{\"leader\":2,\"disk\":0.0,\"partition\":9,\"followers\":[1],\"msg_in\":0.09136062115430832,\"topic\":\"__KafkaCruiseControlPartitionMetricSamples\",\"cpu\":0.0017388327978551388,\"networkOutbound\":0.00135068001691252,\"networkInbound\":0.00135068001691252},{\"leader\":2,\"disk\":0.0,\"partition\":21,\"followers\":[0],\"msg_in\":0.003375930478796363,\"topic\":\"__KafkaCruiseControlModelTrainingSamples\",\"cpu\":7.844195934012532E-4,\"networkOutbound\":5.690616089850664E-4,\"networkInbound\":5.690616089850664E-4},{\"leader\":0,\"disk\":0.0,\"partition\":5,\"followers\":[2],\"msg_in\":0.11304149031639099,\"topic\":\"__KafkaCruiseControlPartitionMetricSamples\",\"cpu\":0.0,\"networkOutbound\":0.001367346616461873,\"networkInbound\":0.001367346616461873},{\"leader\":1,\"disk\":0.0,\"partition\":25,\"followers\":[0],\"msg_in\":0.0,\"topic\":\"__KafkaCruiseControlModelTrainingSamples\",\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0},{\"leader\":1,\"disk\":0.0,\"partition\":1,\"followers\":[2],\"msg_in\":0.07918345928192139,\"topic\":\"__KafkaCruiseControlPartitionMetricSamples\",\"cpu\":0.0,\"networkOutbound\":0.0011194655671715736,\"networkInbound\":0.0011194655671715736},{\"leader\":0,\"disk\":0.0,\"partition\":29,\"followers\":[1],\"msg_in\":0.006292549427598715,\"topic\":\"__KafkaCruiseControlModelTrainingSamples\",\"cpu\":0.0,\"networkOutbound\":0.0012945608468726277,\"networkInbound\":0.0012945608468726277},{\"leader\":1,\"disk\":0.0,\"partition\":4,\"followers\":[2],\"msg_in\":0.0,\"topic\":\"__KafkaCruiseControlModelTrainingSamples\",\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0},{\"leader\":0,\"disk\":0.0,\"partition\":26,\"followers\":[1],\"msg_in\":0.11304149031639099,\"topic\":\"__KafkaCruiseControlPartitionMetricSamples\",\"cpu\":0.0,\"networkOutbound\":0.001367346616461873,\"networkInbound\":0.001367346616461873},{\"leader\":0,\"disk\":0.0,\"partition\":8,\"followers\":[2],\"msg_in\":0.006292549427598715,\"topic\":\"__KafkaCruiseControlModelTrainingSamples\",\"cpu\":0.0,\"networkOutbound\":0.0012945608468726277,\"networkInbound\":0.0012945608468726277},{\"leader\":1,\"disk\":0.0,\"partition\":22,\"followers\":[0],\"msg_in\":0.07918345928192139,\"topic\":\"__KafkaCruiseControlPartitionMetricSamples\",\"cpu\":0.0,\"networkOutbound\":0.0011194655671715736,\"networkInbound\":0.0011194655671715736},{\"leader\":2,\"disk\":0.0,\"partition\":12,\"followers\":[1],\"msg_in\":0.003375930478796363,\"topic\":\"__KafkaCruiseControlModelTrainingSamples\",\"cpu\":7.844195934012532E-4,\"networkOutbound\":5.690616089850664E-4,\"networkInbound\":5.690616089850664E-4},{\"leader\":2,\"disk\":0.0,\"partition\":18,\"followers\":[0],\"msg_in\":0.09136062115430832,\"topic\":\"__KafkaCruiseControlPartitionMetricSamples\",\"cpu\":0.0017388327978551388,\"networkOutbound\":0.00135068001691252,\"networkInbound\":0.00135068001691252},{\"leader\":1,\"disk\":0.0,\"partition\":16,\"followers\":[2],\"msg_in\":0.0,\"topic\":\"__KafkaCruiseControlModelTrainingSamples\",\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0},{\"leader\":0,\"disk\":0.0,\"partition\":14,\"followers\":[1],\"msg_in\":0.11304149031639099,\"topic\":\"__KafkaCruiseControlPartitionMetricSamples\",\"cpu\":0.0,\"networkOutbound\":0.001367346616461873,\"networkInbound\":0.001367346616461873},{\"leader\":0,\"disk\":0.0,\"partition\":20,\"followers\":[2],\"msg_in\":0.006292549427598715,\"topic\":\"__KafkaCruiseControlModelTrainingSamples\",\"cpu\":0.0,\"networkOutbound\":0.0012945608468726277,\"networkInbound\":0.0012945608468726277},{\"leader\":1,\"disk\":0.0,\"partition\":10,\"followers\":[0],\"msg_in\":0.07918345928192139,\"topic\":\"__KafkaCruiseControlPartitionMetricSamples\",\"cpu\":0.0,\"networkOutbound\":0.0011194655671715736,\"networkInbound\":0.0011194655671715736},{\"leader\":2,\"disk\":0.0,\"partition\":6,\"followers\":[0],\"msg_in\":0.09136062115430832,\"topic\":\"__KafkaCruiseControlPartitionMetricSamples\",\"cpu\":0.0017388327978551388,\"networkOutbound\":0.00135068001691252,\"networkInbound\":0.00135068001691252},{\"leader\":1,\"disk\":0.0,\"partition\":28,\"followers\":[2],\"msg_in\":0.0,\"topic\":\"__KafkaCruiseControlModelTrainingSamples\",\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0},{\"leader\":0,\"disk\":0.0,\"partition\":2,\"followers\":[1],\"msg_in\":0.11304149031639099,\"topic\":\"__KafkaCruiseControlPartitionMetricSamples\",\"cpu\":0.0,\"networkOutbound\":0.001367346616461873,\"networkInbound\":0.001367346616461873},{\"leader\":1,\"disk\":0.0,\"partition\":31,\"followers\":[2],\"msg_in\":0.07918345928192139,\"topic\":\"__KafkaCruiseControlPartitionMetricSamples\",\"cpu\":0.0,\"networkOutbound\":0.0011194655671715736,\"networkInbound\":0.0011194655671715736},{\"leader\":2,\"disk\":0.0,\"partition\":27,\"followers\":[1],\"msg_in\":0.09136062115430832,\"topic\":\"__KafkaCruiseControlPartitionMetricSamples\",\"cpu\":0.0017388327978551388,\"networkOutbound\":0.00135068001691252,\"networkInbound\":0.00135068001691252},{\"leader\":0,\"disk\":0.0,\"partition\":23,\"followers\":[2],\"msg_in\":0.11304149031639099,\"topic\":\"__KafkaCruiseControlPartitionMetricSamples\",\"cpu\":0.0,\"networkOutbound\":0.001367346616461873,\"networkInbound\":0.001367346616461873},{\"leader\":1,\"disk\":0.0,\"partition\":19,\"followers\":[2],\"msg_in\":0.07918345928192139,\"topic\":\"__KafkaCruiseControlPartitionMetricSamples\",\"cpu\":0.0,\"networkOutbound\":0.0011194655671715736,\"networkInbound\":0.0011194655671715736},{\"leader\":1,\"disk\":0.0,\"partition\":7,\"followers\":[0],\"msg_in\":0.0,\"topic\":\"__KafkaCruiseControlModelTrainingSamples\",\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0},{\"leader\":2,\"disk\":0.0,\"partition\":15,\"followers\":[1],\"msg_in\":0.09136062115430832,\"topic\":\"__KafkaCruiseControlPartitionMetricSamples\",\"cpu\":0.0017388327978551388,\"networkOutbound\":0.00135068001691252,\"networkInbound\":0.00135068001691252},{\"leader\":0,\"disk\":0.0,\"partition\":11,\"followers\":[1],\"msg_in\":0.006292549427598715,\"topic\":\"__KafkaCruiseControlModelTrainingSamples\",\"cpu\":0.0,\"networkOutbound\":0.0012945608468726277,\"networkInbound\":0.0012945608468726277},{\"leader\":0,\"disk\":0.0,\"partition\":11,\"followers\":[2],\"msg_in\":0.11304149031639099,\"topic\":\"__KafkaCruiseControlPartitionMetricSamples\",\"cpu\":0.0,\"networkOutbound\":0.001367346616461873,\"networkInbound\":0.001367346616461873},{\"leader\":2,\"disk\":0.0,\"partition\":15,\"followers\":[0],\"msg_in\":0.003375930478796363,\"topic\":\"__KafkaCruiseControlModelTrainingSamples\",\"cpu\":7.844195934012532E-4,\"networkOutbound\":5.690616089850664E-4,\"networkInbound\":5.690616089850664E-4},{\"leader\":1,\"disk\":0.0,\"partition\":7,\"followers\":[2],\"msg_in\":0.07918345928192139,\"topic\":\"__KafkaCruiseControlPartitionMetricSamples\",\"cpu\":0.0,\"networkOutbound\":0.0011194655671715736,\"networkInbound\":0.0011194655671715736},{\"leader\":1,\"disk\":0.0,\"partition\":19,\"followers\":[0],\"msg_in\":0.0,\"topic\":\"__KafkaCruiseControlModelTrainingSamples\",\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0},{\"leader\":2,\"disk\":0.0,\"partition\":3,\"followers\":[1],\"msg_in\":0.09136062115430832,\"topic\":\"__KafkaCruiseControlPartitionMetricSamples\",\"cpu\":0.0017388327978551388,\"networkOutbound\":0.00135068001691252,\"networkInbound\":0.00135068001691252},{\"leader\":0,\"disk\":0.0,\"partition\":23,\"followers\":[1],\"msg_in\":0.006292549427598715,\"topic\":\"__KafkaCruiseControlModelTrainingSamples\",\"cpu\":0.0,\"networkOutbound\":0.0012945608468726277,\"networkInbound\":0.0012945608468726277},{\"leader\":2,\"disk\":0.0,\"partition\":27,\"followers\":[0],\"msg_in\":0.003375930478796363,\"topic\":\"__KafkaCruiseControlModelTrainingSamples\",\"cpu\":7.844195934012532E-4,\"networkOutbound\":5.690616089850664E-4,\"networkInbound\":5.690616089850664E-4},{\"leader\":1,\"disk\":0.0,\"partition\":28,\"followers\":[0],\"msg_in\":0.07918345928192139,\"topic\":\"__KafkaCruiseControlPartitionMetricSamples\",\"cpu\":0.0,\"networkOutbound\":0.0011194655671715736,\"networkInbound\":0.0011194655671715736},{\"leader\":1,\"disk\":0.0,\"partition\":31,\"followers\":[0],\"msg_in\":0.0,\"topic\":\"__KafkaCruiseControlModelTrainingSamples\",\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0},{\"leader\":0,\"disk\":0.0,\"partition\":2,\"followers\":[2],\"msg_in\":0.006292549427598715,\"topic\":\"__KafkaCruiseControlModelTrainingSamples\",\"cpu\":0.0,\"networkOutbound\":0.0012945608468726277,\"networkInbound\":0.0012945608468726277},{\"leader\":2,\"disk\":0.0,\"partition\":24,\"followers\":[0],\"msg_in\":0.09136062115430832,\"topic\":\"__KafkaCruiseControlPartitionMetricSamples\",\"cpu\":0.0017388327978551388,\"networkOutbound\":0.00135068001691252,\"networkInbound\":0.00135068001691252},{\"leader\":2,\"disk\":0.0,\"partition\":6,\"followers\":[1],\"msg_in\":0.003375930478796363,\"topic\":\"__KafkaCruiseControlModelTrainingSamples\",\"cpu\":7.844195934012532E-4,\"networkOutbound\":5.690616089850664E-4,\"networkInbound\":5.690616089850664E-4},{\"leader\":0,\"disk\":0.0,\"partition\":20,\"followers\":[1],\"msg_in\":0.11304149031639099,\"topic\":\"__KafkaCruiseControlPartitionMetricSamples\",\"cpu\":0.0,\"networkOutbound\":0.001367346616461873,\"networkInbound\":0.001367346616461873}],\"version\":1}")
                            )
                    ),
                    @ApiResponse(responseCode = "404", description = "Not found."),
                    @ApiResponse(responseCode = "500", description = "Internal Server Error.")
            }
    )
    void partitionLoad(RoutingContext context);

    @Operation(summary = "Returns the optimization proposals generated based on the workload model of the given timestamp. The workload summary before and after the optimization will also be returned.", method = "GET", operationId = "proposals",
            tags = {
                    "GET"
            },
            parameters = {
                    @Parameter(in = ParameterIn.QUERY, name = "ignore_proposal_cache",
                            description = "Whether to ignore the cached proposal or not.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "data_from",
                            description = "Whether to calculate proposal from available valid partitions or valid windows.", schema = @Schema(type = "string")),
                    @Parameter(in = ParameterIn.QUERY, name = "goals",
                            description = "List of goals used to generate proposal.", schema = @Schema(type = "list")),
                    @Parameter(in = ParameterIn.QUERY, name = "kafka_assigner",
                            description = "Whether to use Kafka assigner mode to generate proposals.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "allow_capacity_estimation",
                            description = "Whether to allow broker capacity to be estimated.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "excluded_topics",
                            description = "Regular expression to specify topics excluded from replica and leadership movement.", schema = @Schema(type = "regex")),
                    @Parameter(in = ParameterIn.QUERY, name = "use_ready_default_goals",
                            description = "Whether to use only ready goals to generate proposals.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "exclude_recently_demoted_brokers",
                            description = "Whether to allow leader replicas to be moved to recently demoted brokers.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "exclude_recently_removed_brokers",
                            description = "Whether to allow leader replicas to be moved to recently removed broker.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "destination_broker_ids",
                            description = "Specify brokers to move replicas to.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "rebalance_disk",
                            description = "Whether to balance load between disks within brokers (requires JBOD Kafka deployment).", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "json",
                            description = "Return in JSON format or not.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "verbose",
                            description = "Return detailed state information.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "doAs",
                            description = "Propagated user by the trusted proxy service.", schema = @Schema(type = "string")),
                    @Parameter(in = ParameterIn.QUERY, name = "fast_mode",
                            description = "True to compute proposals in fast mode, false otherwise.", schema = @Schema(type = "boolean"))

            },
            responses = {
                    @ApiResponse(responseCode = "200", description = "OK",
                            content =
                            @Content(
                                    mediaType = "application/json",
                                    encoding = @Encoding(contentType = "application/json"),
                                    schema = @Schema(name = "jsonState", example =
                                            "{\"summary\":{\"numIntraBrokerReplicaMovements\":0,\"numReplicaMovements\":0,\"onDemandBalancednessScoreAfter\":93.21842452909542,\"intraBrokerDataToMoveMB\":0,\"monitoredPartitionsPercentage\":100.0,\"provisionRecommendation\":\"\",\"excludedBrokersForReplicaMove\":[],\"excludedBrokersForLeadership\":[],\"provisionStatus\":\"RIGHT_SIZED\",\"onDemandBalancednessScoreBefore\":93.21842452909542,\"recentWindows\":1,\"dataToMoveMB\":0,\"excludedTopics\":[],\"numLeaderMovements\":4},\"goalSummary\":[{\"optimizationTimeMs\":23,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.0022366841634114585,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.012441294888655344,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.0},\"STD\":{\"disk\":0.003163149078641604,\"replicas\":0.816496580927726,\"leaderReplicas\":1.247219128924647,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":0.4714045207910316,\"potentialNwOut\":0.0},\"MIN\":{\"disk\":0.0,\"replicas\":42,\"leaderReplicas\":20,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.037323884665966034,\"topicReplicas\":0,\"potentialNwOut\":0.0},\"MAX\":{\"disk\":0.006710052490234375,\"replicas\":44,\"leaderReplicas\":23,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.037323884665966034,\"topicReplicas\":22,\"potentialNwOut\":0.0}}},\"goal\":\"RackAwareDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":2,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.0022366841634114585,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.012441294888655344,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.0},\"STD\":{\"disk\":0.003163149078641604,\"replicas\":0.816496580927726,\"leaderReplicas\":1.247219128924647,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":0.4714045207910316,\"potentialNwOut\":0.0},\"MIN\":{\"disk\":0.0,\"replicas\":42,\"leaderReplicas\":20,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.037323884665966034,\"topicReplicas\":0,\"potentialNwOut\":0.0},\"MAX\":{\"disk\":0.006710052490234375,\"replicas\":44,\"leaderReplicas\":23,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.037323884665966034,\"topicReplicas\":22,\"potentialNwOut\":0.0}}},\"goal\":\"ReplicaCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.0022366841634114585,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.012441294888655344,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.0},\"STD\":{\"disk\":0.003163149078641604,\"replicas\":0.816496580927726,\"leaderReplicas\":1.247219128924647,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":0.4714045207910316,\"potentialNwOut\":0.0},\"MIN\":{\"disk\":0.0,\"replicas\":42,\"leaderReplicas\":20,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.037323884665966034,\"topicReplicas\":0,\"potentialNwOut\":0.0},\"MAX\":{\"disk\":0.006710052490234375,\"replicas\":44,\"leaderReplicas\":23,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.037323884665966034,\"topicReplicas\":22,\"potentialNwOut\":0.0}}},\"goal\":\"DiskCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.0022366841634114585,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.012441294888655344,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.0},\"STD\":{\"disk\":0.003163149078641604,\"replicas\":0.816496580927726,\"leaderReplicas\":1.247219128924647,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":0.4714045207910316,\"potentialNwOut\":0.0},\"MIN\":{\"disk\":0.0,\"replicas\":42,\"leaderReplicas\":20,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.037323884665966034,\"topicReplicas\":0,\"potentialNwOut\":0.0},\"MAX\":{\"disk\":0.006710052490234375,\"replicas\":44,\"leaderReplicas\":23,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.037323884665966034,\"topicReplicas\":22,\"potentialNwOut\":0.0}}},\"goal\":\"NetworkInboundCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":0,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.0022366841634114585,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.012441294888655344,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.0},\"STD\":{\"disk\":0.003163149078641604,\"replicas\":0.816496580927726,\"leaderReplicas\":1.247219128924647,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":0.4714045207910316,\"potentialNwOut\":0.0},\"MIN\":{\"disk\":0.0,\"replicas\":42,\"leaderReplicas\":20,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.037323884665966034,\"topicReplicas\":0,\"potentialNwOut\":0.0},\"MAX\":{\"disk\":0.006710052490234375,\"replicas\":44,\"leaderReplicas\":23,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.037323884665966034,\"topicReplicas\":22,\"potentialNwOut\":0.0}}},\"goal\":\"NetworkOutboundCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":0,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.0022366841634114585,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.012441294888655344,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.0},\"STD\":{\"disk\":0.003163149078641604,\"replicas\":0.816496580927726,\"leaderReplicas\":1.247219128924647,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":0.4714045207910316,\"potentialNwOut\":0.0},\"MIN\":{\"disk\":0.0,\"replicas\":42,\"leaderReplicas\":20,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.037323884665966034,\"topicReplicas\":0,\"potentialNwOut\":0.0},\"MAX\":{\"disk\":0.006710052490234375,\"replicas\":44,\"leaderReplicas\":23,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.037323884665966034,\"topicReplicas\":22,\"potentialNwOut\":0.0}}},\"goal\":\"CpuCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":3,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.0022366841634114585,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.012441294888655344,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.0},\"STD\":{\"disk\":0.003163149078641604,\"replicas\":0.816496580927726,\"leaderReplicas\":1.247219128924647,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":0.4714045207910316,\"potentialNwOut\":0.0},\"MIN\":{\"disk\":0.0,\"replicas\":42,\"leaderReplicas\":20,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.037323884665966034,\"topicReplicas\":0,\"potentialNwOut\":0.0},\"MAX\":{\"disk\":0.006710052490234375,\"replicas\":44,\"leaderReplicas\":23,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.037323884665966034,\"topicReplicas\":22,\"potentialNwOut\":0.0}}},\"goal\":\"ReplicaDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.0022366841634114585,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.012441294888655344,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.0},\"STD\":{\"disk\":0.003163149078641604,\"replicas\":0.816496580927726,\"leaderReplicas\":1.247219128924647,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":0.4714045207910316,\"potentialNwOut\":0.0},\"MIN\":{\"disk\":0.0,\"replicas\":42,\"leaderReplicas\":20,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.037323884665966034,\"topicReplicas\":0,\"potentialNwOut\":0.0},\"MAX\":{\"disk\":0.006710052490234375,\"replicas\":44,\"leaderReplicas\":23,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.037323884665966034,\"topicReplicas\":22,\"potentialNwOut\":0.0}}},\"goal\":\"PotentialNwOutGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":11,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.0022366841634114585,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.012441294888655344,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.0},\"STD\":{\"disk\":0.003163149078641604,\"replicas\":0.816496580927726,\"leaderReplicas\":1.247219128924647,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":0.4714045207910316,\"potentialNwOut\":0.0},\"MIN\":{\"disk\":0.0,\"replicas\":42,\"leaderReplicas\":20,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.037323884665966034,\"topicReplicas\":0,\"potentialNwOut\":0.0},\"MAX\":{\"disk\":0.006710052490234375,\"replicas\":44,\"leaderReplicas\":23,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.037323884665966034,\"topicReplicas\":22,\"potentialNwOut\":0.0}}},\"goal\":\"DiskUsageDistributionGoal\",\"status\":\"VIOLATED\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.0022366841634114585,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.012441294888655344,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.0},\"STD\":{\"disk\":0.003163149078641604,\"replicas\":0.816496580927726,\"leaderReplicas\":1.247219128924647,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":0.4714045207910316,\"potentialNwOut\":0.0},\"MIN\":{\"disk\":0.0,\"replicas\":42,\"leaderReplicas\":20,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.037323884665966034,\"topicReplicas\":0,\"potentialNwOut\":0.0},\"MAX\":{\"disk\":0.006710052490234375,\"replicas\":44,\"leaderReplicas\":23,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.037323884665966034,\"topicReplicas\":22,\"potentialNwOut\":0.0}}},\"goal\":\"NetworkInboundUsageDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.0022366841634114585,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.012441294888655344,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.0},\"STD\":{\"disk\":0.003163149078641604,\"replicas\":0.816496580927726,\"leaderReplicas\":1.247219128924647,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":0.4714045207910316,\"potentialNwOut\":0.0},\"MIN\":{\"disk\":0.0,\"replicas\":42,\"leaderReplicas\":20,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.037323884665966034,\"topicReplicas\":0,\"potentialNwOut\":0.0},\"MAX\":{\"disk\":0.006710052490234375,\"replicas\":44,\"leaderReplicas\":23,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.037323884665966034,\"topicReplicas\":22,\"potentialNwOut\":0.0}}},\"goal\":\"NetworkOutboundUsageDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":0,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.0022366841634114585,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.012441294888655344,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.0},\"STD\":{\"disk\":0.003163149078641604,\"replicas\":0.816496580927726,\"leaderReplicas\":1.247219128924647,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":0.4714045207910316,\"potentialNwOut\":0.0},\"MIN\":{\"disk\":0.0,\"replicas\":42,\"leaderReplicas\":20,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.037323884665966034,\"topicReplicas\":0,\"potentialNwOut\":0.0},\"MAX\":{\"disk\":0.006710052490234375,\"replicas\":44,\"leaderReplicas\":23,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.037323884665966034,\"topicReplicas\":22,\"potentialNwOut\":0.0}}},\"goal\":\"CpuUsageDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.0022366841634114585,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.012441294888655344,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.0},\"STD\":{\"disk\":0.003163149078641604,\"replicas\":0.816496580927726,\"leaderReplicas\":1.247219128924647,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":0.4714045207910316,\"potentialNwOut\":0.0},\"MIN\":{\"disk\":0.0,\"replicas\":42,\"leaderReplicas\":20,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.037323884665966034,\"topicReplicas\":0,\"potentialNwOut\":0.0},\"MAX\":{\"disk\":0.006710052490234375,\"replicas\":44,\"leaderReplicas\":23,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.037323884665966034,\"topicReplicas\":22,\"potentialNwOut\":0.0}}},\"goal\":\"TopicReplicaDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.0022366841634114585,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.012441294888655344,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.0},\"STD\":{\"disk\":0.003163149078641604,\"replicas\":0.816496580927726,\"leaderReplicas\":1.247219128924647,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":0.4714045207910316,\"potentialNwOut\":0.0},\"MIN\":{\"disk\":0.0,\"replicas\":42,\"leaderReplicas\":20,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.037323884665966034,\"topicReplicas\":0,\"potentialNwOut\":0.0},\"MAX\":{\"disk\":0.006710052490234375,\"replicas\":44,\"leaderReplicas\":23,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.037323884665966034,\"topicReplicas\":22,\"potentialNwOut\":0.0}}},\"goal\":\"LeaderReplicaDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":11,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.0022366841634114585,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.012441294888655344,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.0},\"STD\":{\"disk\":0.003163149078641604,\"replicas\":0.816496580927726,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":0.4714045207910316,\"potentialNwOut\":0.0},\"MIN\":{\"disk\":0.0,\"replicas\":42,\"leaderReplicas\":19,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.037323884665966034,\"topicReplicas\":0,\"potentialNwOut\":0.0},\"MAX\":{\"disk\":0.006710052490234375,\"replicas\":44,\"leaderReplicas\":24,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.037323884665966034,\"topicReplicas\":22,\"potentialNwOut\":0.0}}},\"goal\":\"LeaderBytesInDistributionGoal\",\"status\":\"VIOLATED\"}],\"loadAfterOptimization\":{\"hosts\":[{\"FollowerNwInRate\":0.0,\"NwOutRate\":0.0,\"NumCore\":3,\"Host\":\"192.168.31.136\",\"CpuPct\":0.0,\"Replicas\":129,\"NetworkInCapacity\":110000.0,\"Rack\":\"192.168.31.136\",\"Leaders\":65,\"DiskCapacityMB\":1500000.0,\"DiskMB\":0.006710052490234375,\"PnwOutRate\":0.0,\"NetworkOutCapacity\":110000.0,\"LeaderNwInRate\":0.037323884665966034,\"DiskPct\":4.473368326822917E-7}],\"brokers\":[{\"FollowerNwInRate\":0.0,\"BrokerState\":\"ALIVE\",\"Broker\":0,\"NwOutRate\":0.0,\"NumCore\":1,\"Host\":\"192.168.31.136\",\"CpuPct\":0.0,\"Replicas\":42,\"NetworkInCapacity\":50000.0,\"Rack\":\"192.168.31.136\",\"Leaders\":22,\"DiskCapacityMB\":500000.0,\"DiskMB\":0.0,\"PnwOutRate\":0.0,\"NetworkOutCapacity\":50000.0,\"LeaderNwInRate\":0.0,\"DiskPct\":0.0},{\"FollowerNwInRate\":0.0,\"BrokerState\":\"ALIVE\",\"Broker\":1,\"NwOutRate\":0.0,\"NumCore\":1,\"Host\":\"192.168.31.136\",\"CpuPct\":0.0,\"Replicas\":43,\"NetworkInCapacity\":50000.0,\"Rack\":\"192.168.31.136\",\"Leaders\":24,\"DiskCapacityMB\":500000.0,\"DiskMB\":0.0,\"PnwOutRate\":0.0,\"NetworkOutCapacity\":50000.0,\"LeaderNwInRate\":0.0,\"DiskPct\":0.0},{\"FollowerNwInRate\":0.0,\"BrokerState\":\"ALIVE\",\"Broker\":2,\"NwOutRate\":0.0,\"NumCore\":1,\"Host\":\"192.168.31.136\",\"CpuPct\":0.0,\"Replicas\":44,\"NetworkInCapacity\":10000.0,\"Rack\":\"192.168.31.136\",\"Leaders\":19,\"DiskCapacityMB\":500000.0,\"DiskMB\":0.006710052490234375,\"PnwOutRate\":0.0,\"NetworkOutCapacity\":10000.0,\"LeaderNwInRate\":0.037323884665966034,\"DiskPct\":1.342010498046875E-6}]},\"version\":1}")
                            )
                    ),
                    @ApiResponse(responseCode = "404", description = "Not found."),
                    @ApiResponse(responseCode = "500", description = "Internal Server Error.")
            }
    )
    void proposals(RoutingContext context);

    @Operation(summary = "The following POST request will let Kafka Cruise Control rebalance a Kafka cluster.", method = "POST", operationId = "rebalance",
            tags = {
                    "POST"
            },
            parameters = {
                    @Parameter(in = ParameterIn.QUERY, name = "dryrun",
                            description = "Whether dry-run the request or not.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "data_from",
                            description = "Whether to calculate proposal from available valid partitions or valid windows.", schema = @Schema(type = "string")),
                    @Parameter(in = ParameterIn.QUERY, name = "goals",
                            description = "List of goals used to generate proposal.", schema = @Schema(type = "list")),
                    @Parameter(in = ParameterIn.QUERY, name = "kafka_assigner",
                            description = "Whether to use Kafka assigner mode to generate proposals.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "allow_capacity_estimation",
                            description = "Whether to allow broker capacity to be estimated.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "concurrent_partition_movements_per_broker",
                            description = "Upper bound of ongoing replica movements going into/out of each broker.", schema = @Schema(type = "integer")),
                    @Parameter(in = ParameterIn.QUERY, name = "concurrent_intra_broker_partition_movements",
                            description = "Upper bound of ongoing replica movements between disks within each broker.", schema = @Schema(type = "integer")),
                    @Parameter(in = ParameterIn.QUERY, name = "concurrent_leader_movements",
                            description = "Upper bound of ongoing leadership movements.", schema = @Schema(type = "integer")),
                    @Parameter(in = ParameterIn.QUERY, name = "skip_hard_goal_check",
                            description = "Whether allow hard goals be skipped in proposal generation.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "excluded_topics",
                            description = "Regular expression to specify topics excluded from replica and leadership movement.", schema = @Schema(type = "regex")),
                    @Parameter(in = ParameterIn.QUERY, name = "use_ready_default_goals",
                            description = "Whether only use ready goals to generate proposal.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "exclude_recently_demoted_brokers",
                            description = "Whether to allow leader replicas to be moved to recently demoted brokers.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "exclude_recently_removed_brokers",
                            description = "Whether allow replicas to be moved to recently removed broker", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "replica_movement_strategies",
                            description = "Replica movement strategy to use.", schema = @Schema(type = "string")),
                    @Parameter(in = ParameterIn.QUERY, name = "ignore_proposal_cache",
                            description = "Whether to ignore the cached proposal or not.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "replication_throttle",
                            description = "Upper bound on the bandwidth used to move replicas (in bytes per second).", schema = @Schema(type = "long")),
                    @Parameter(in = ParameterIn.QUERY, name = "destination_broker_ids",
                            description = "Specify brokers to move replicas to.", schema = @Schema(type = "long")),
                    @Parameter(in = ParameterIn.QUERY, name = "rebalance_disk",
                            description = "Whether to balance load between disks within brokers (requires JBOD Kafka deployment).", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "json",
                            description = "Return in JSON format or not.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "verbose",
                            description = "Return detailed state information.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "reason",
                            description = "Reason for the request.", schema = @Schema(type = "string")),
                    @Parameter(in = ParameterIn.QUERY, name = "doAs",
                            description = "Propagated user by the trusted proxy service.", schema = @Schema(type = "string")),
                    @Parameter(in = ParameterIn.QUERY, name = "fast_mode",
                            description = "True to compute proposals in fast mode, false otherwise.", schema = @Schema(type = "boolean"))

            },
            responses = {
                    @ApiResponse(responseCode = "200", description = "OK",
                            content =
                            @Content(
                                    mediaType = "application/json",
                                    encoding = @Encoding(contentType = "application/json"),
                                    schema = @Schema(name = "jsonState", example =
                                            "{\"summary\":{\"numIntraBrokerReplicaMovements\":0,\"numReplicaMovements\":0,\"onDemandBalancednessScoreAfter\":93.21842452909542,\"intraBrokerDataToMoveMB\":0,\"monitoredPartitionsPercentage\":100.0,\"provisionRecommendation\":\"\",\"excludedBrokersForReplicaMove\":[],\"excludedBrokersForLeadership\":[],\"provisionStatus\":\"RIGHT_SIZED\",\"onDemandBalancednessScoreBefore\":93.21842452909542,\"recentWindows\":4,\"dataToMoveMB\":0,\"excludedTopics\":[],\"numLeaderMovements\":0},\"goalSummary\":[{\"optimizationTimeMs\":22,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"RackAwareDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":2,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"ReplicaCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"DiskCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"NetworkInboundCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":0,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"NetworkOutboundCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"CpuCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":4,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"ReplicaDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"PotentialNwOutGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":13,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"DiskUsageDistributionGoal\",\"status\":\"VIOLATED\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"NetworkInboundUsageDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"NetworkOutboundUsageDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":0,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"CpuUsageDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"TopicReplicaDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"LeaderReplicaDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":5,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"LeaderBytesInDistributionGoal\",\"status\":\"VIOLATED\"}],\"loadAfterOptimization\":{\"hosts\":[{\"FollowerNwInRate\":0.012567221885547042,\"NwOutRate\":0.15608352958224714,\"NumCore\":3,\"Host\":\"172.30.67.28\",\"CpuPct\":0.2565697021782398,\"Replicas\":129,\"NetworkInCapacity\":110000.0,\"Rack\":\"172.30.67.28\",\"Leaders\":65,\"DiskCapacityMB\":1500000.0,\"DiskMB\":0.7979640960693359,\"PnwOutRate\":0.2363395793363452,\"NetworkOutCapacity\":110000.0,\"LeaderNwInRate\":0.07718259119428694,\"DiskPct\":5.31976064046224E-5}],\"brokers\":[{\"FollowerNwInRate\":0.005724594229832292,\"BrokerState\":\"ALIVE\",\"Broker\":0,\"NwOutRate\":0.02025333675555885,\"NumCore\":1,\"Host\":\"172.30.67.28\",\"CpuPct\":0.06155018135905266,\"Replicas\":47,\"NetworkInCapacity\":50000.0,\"Rack\":\"172.30.67.28\",\"Leaders\":24,\"DiskCapacityMB\":500000.0,\"DiskMB\":0.04088592529296875,\"PnwOutRate\":0.05130255874246359,\"NetworkOutCapacity\":50000.0,\"LeaderNwInRate\":0.0024207483511418104,\"DiskPct\":8.17718505859375E-6},{\"FollowerNwInRate\":0.002272642683237791,\"BrokerState\":\"ALIVE\",\"Broker\":1,\"NwOutRate\":0.04226189246401191,\"NumCore\":1,\"Host\":\"172.30.67.28\",\"CpuPct\":0.07702549546957016,\"Replicas\":43,\"NetworkInCapacity\":50000.0,\"Rack\":\"172.30.67.28\",\"Leaders\":22,\"DiskCapacityMB\":500000.0,\"DiskMB\":0.040592193603515625,\"PnwOutRate\":0.06382533255964518,\"NetworkOutCapacity\":50000.0,\"LeaderNwInRate\":0.006524068769067526,\"DiskPct\":8.118438720703125E-6},{\"FollowerNwInRate\":0.004569984972476959,\"BrokerState\":\"ALIVE\",\"Broker\":2,\"NwOutRate\":0.09356830036267638,\"NumCore\":1,\"Host\":\"172.30.67.28\",\"CpuPct\":0.117994025349617,\"Replicas\":39,\"NetworkInCapacity\":10000.0,\"Rack\":\"172.30.67.28\",\"Leaders\":19,\"DiskCapacityMB\":500000.0,\"DiskMB\":0.7164859771728516,\"PnwOutRate\":0.12121168803423643,\"NetworkOutCapacity\":10000.0,\"LeaderNwInRate\":0.0682377740740776,\"DiskPct\":1.4329719543457032E-4}]},\"version\":1}")
                            )
                    ),
                    @ApiResponse(responseCode = "404", description = "Not found."),
                    @ApiResponse(responseCode = "500", description = "Internal Server Error.")
            }
    )
    void rebalance(RoutingContext context);

    @Operation(summary = "The following POST request adds the given brokers to the Kafka cluster.", method = "POST", operationId = "add_broker",
            tags = {
                    "POST"
            },
            parameters = {
                    @Parameter(in = ParameterIn.QUERY, name = "brokerid",
                            description = "List of ids of new broker added to the cluster.", schema = @Schema(type = "list"), required = true),
                    @Parameter(in = ParameterIn.QUERY, name = "dryrun",
                            description = "Whether dry-run the request or not.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "data_from",
                            description = "Whether to calculate proposal from available valid partitions or valid windows.", schema = @Schema(type = "string")),
                    @Parameter(in = ParameterIn.QUERY, name = "goals",
                            description = "List of goals used to generate proposal.", schema = @Schema(type = "list")),
                    @Parameter(in = ParameterIn.QUERY, name = "kafka_assigner",
                            description = "Whether to use Kafka assigner mode to generate proposals.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "allow_capacity_estimation",
                            description = "Whether to allow broker capacity to be estimated.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "concurrent_partition_movements_per_broker",
                            description = "Upper bound of ongoing replica movements going into/out of each broker.", schema = @Schema(type = "integer")),
                    @Parameter(in = ParameterIn.QUERY, name = "concurrent_leader_movements",
                            description = "Upper bound of ongoing leadership movements.", schema = @Schema(type = "integer")),
                    @Parameter(in = ParameterIn.QUERY, name = "skip_hard_goal_check",
                            description = "Whether allow hard goals be skipped in proposal generation.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "excluded_topics",
                            description = "Regular expression to specify topics excluded from replica and leadership movement.", schema = @Schema(type = "regex")),
                    @Parameter(in = ParameterIn.QUERY, name = "use_ready_default_goals",
                            description = "Whether only use ready goals to generate proposal.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "exclude_recently_demoted_brokers",
                            description = "Whether to allow leader replicas to be moved to recently demoted brokers.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "exclude_recently_removed_brokers",
                            description = "Whether allow replicas to be moved to recently removed broker", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "replica_movement_strategies",
                            description = "Replica movement strategy to use.", schema = @Schema(type = "string")),
                    @Parameter(in = ParameterIn.QUERY, name = "replication_throttle",
                            description = "Upper bound on the bandwidth used to move replicas (in bytes per second).", schema = @Schema(type = "long")),
                    @Parameter(in = ParameterIn.QUERY, name = "throttle_added_broker",
                            description = "Whether throttle replica movement to new broker or not.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "json",
                            description = "Return in JSON format or not.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "verbose",
                            description = "Return detailed state information.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "reason",
                            description = "Reason for the request.", schema = @Schema(type = "string")),
                    @Parameter(in = ParameterIn.QUERY, name = "doAs",
                            description = "Propagated user by the trusted proxy service.", schema = @Schema(type = "string")),
                    @Parameter(in = ParameterIn.QUERY, name = "fast_mode",
                            description = "True to compute proposals in fast mode, false otherwise.", schema = @Schema(type = "boolean"))
            },
            responses = {
                    @ApiResponse(responseCode = "200", description = "OK",
                            content =
                            @Content(
                                    mediaType = "application/json",
                                    encoding = @Encoding(contentType = "application/json"),
                                    schema = @Schema(name = "jsonState", example =
                                            "{\"summary\":{\"numIntraBrokerReplicaMovements\":0,\"numReplicaMovements\":0,\"onDemandBalancednessScoreAfter\":93.21842452909542,\"intraBrokerDataToMoveMB\":0,\"monitoredPartitionsPercentage\":100.0,\"provisionRecommendation\":\"\",\"excludedBrokersForReplicaMove\":[],\"excludedBrokersForLeadership\":[],\"provisionStatus\":\"RIGHT_SIZED\",\"onDemandBalancednessScoreBefore\":93.21842452909542,\"recentWindows\":4,\"dataToMoveMB\":0,\"excludedTopics\":[],\"numLeaderMovements\":0},\"goalSummary\":[{\"optimizationTimeMs\":22,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"RackAwareDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":2,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"ReplicaCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"DiskCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"NetworkInboundCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":0,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"NetworkOutboundCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"CpuCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":4,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"ReplicaDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"PotentialNwOutGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":13,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"DiskUsageDistributionGoal\",\"status\":\"VIOLATED\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"NetworkInboundUsageDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"NetworkOutboundUsageDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":0,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"CpuUsageDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"TopicReplicaDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"LeaderReplicaDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":5,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"LeaderBytesInDistributionGoal\",\"status\":\"VIOLATED\"}],\"loadAfterOptimization\":{\"hosts\":[{\"FollowerNwInRate\":0.012567221885547042,\"NwOutRate\":0.15608352958224714,\"NumCore\":3,\"Host\":\"172.30.67.28\",\"CpuPct\":0.2565697021782398,\"Replicas\":129,\"NetworkInCapacity\":110000.0,\"Rack\":\"172.30.67.28\",\"Leaders\":65,\"DiskCapacityMB\":1500000.0,\"DiskMB\":0.7979640960693359,\"PnwOutRate\":0.2363395793363452,\"NetworkOutCapacity\":110000.0,\"LeaderNwInRate\":0.07718259119428694,\"DiskPct\":5.31976064046224E-5}],\"brokers\":[{\"FollowerNwInRate\":0.005724594229832292,\"BrokerState\":\"ALIVE\",\"Broker\":0,\"NwOutRate\":0.02025333675555885,\"NumCore\":1,\"Host\":\"172.30.67.28\",\"CpuPct\":0.06155018135905266,\"Replicas\":47,\"NetworkInCapacity\":50000.0,\"Rack\":\"172.30.67.28\",\"Leaders\":24,\"DiskCapacityMB\":500000.0,\"DiskMB\":0.04088592529296875,\"PnwOutRate\":0.05130255874246359,\"NetworkOutCapacity\":50000.0,\"LeaderNwInRate\":0.0024207483511418104,\"DiskPct\":8.17718505859375E-6},{\"FollowerNwInRate\":0.002272642683237791,\"BrokerState\":\"ALIVE\",\"Broker\":1,\"NwOutRate\":0.04226189246401191,\"NumCore\":1,\"Host\":\"172.30.67.28\",\"CpuPct\":0.07702549546957016,\"Replicas\":43,\"NetworkInCapacity\":50000.0,\"Rack\":\"172.30.67.28\",\"Leaders\":22,\"DiskCapacityMB\":500000.0,\"DiskMB\":0.040592193603515625,\"PnwOutRate\":0.06382533255964518,\"NetworkOutCapacity\":50000.0,\"LeaderNwInRate\":0.006524068769067526,\"DiskPct\":8.118438720703125E-6},{\"FollowerNwInRate\":0.004569984972476959,\"BrokerState\":\"ALIVE\",\"Broker\":2,\"NwOutRate\":0.09356830036267638,\"NumCore\":1,\"Host\":\"172.30.67.28\",\"CpuPct\":0.117994025349617,\"Replicas\":39,\"NetworkInCapacity\":10000.0,\"Rack\":\"172.30.67.28\",\"Leaders\":19,\"DiskCapacityMB\":500000.0,\"DiskMB\":0.7164859771728516,\"PnwOutRate\":0.12121168803423643,\"NetworkOutCapacity\":10000.0,\"LeaderNwInRate\":0.0682377740740776,\"DiskPct\":1.4329719543457032E-4}]},\"version\":1}")
                            )
                    ),
                    @ApiResponse(responseCode = "404", description = "Not found."),
                    @ApiResponse(responseCode = "500", description = "Internal Server Error.")
            }
    )
    void addBroker(RoutingContext context);

    @Operation(summary = "The following POST request removes a list of brokers from the Kafka cluster.", method = "POST", operationId = "remove_broker",
            tags = {
                    "POST"
            },
            parameters = {
                    @Parameter(in = ParameterIn.QUERY, name = "brokerid",
                            description = "List of ids of broker to be removed from the cluster.", schema = @Schema(type = "list"), required = true),
                    @Parameter(in = ParameterIn.QUERY, name = "dryrun",
                            description = "Whether dry-run the request or not.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "data_from",
                            description = "Whether to calculate proposal from available valid partitions or valid windows.", schema = @Schema(type = "string")),
                    @Parameter(in = ParameterIn.QUERY, name = "goals",
                            description = "List of goals used to generate proposal.", schema = @Schema(type = "list")),
                    @Parameter(in = ParameterIn.QUERY, name = "kafka_assigner",
                            description = "Whether to use Kafka assigner mode to generate proposals.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "allow_capacity_estimation",
                            description = "Whether to allow broker capacity to be estimated.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "concurrent_partition_movements_per_broker",
                            description = "Upper bound of ongoing replica movements going into/out of each broker.", schema = @Schema(type = "integer")),
                    @Parameter(in = ParameterIn.QUERY, name = "concurrent_leader_movements",
                            description = "Upper bound of ongoing leadership movements.", schema = @Schema(type = "integer")),
                    @Parameter(in = ParameterIn.QUERY, name = "skip_hard_goal_check",
                            description = "Whether allow hard goals be skipped in proposal generation.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "excluded_topics",
                            description = "Regular expression to specify topics excluded from replica and leadership movement.", schema = @Schema(type = "regex")),
                    @Parameter(in = ParameterIn.QUERY, name = "use_ready_default_goals",
                            description = "Whether only use ready goals to generate proposal.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "exclude_recently_demoted_brokers",
                            description = "Whether to allow leader replicas to be moved to recently demoted brokers.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "exclude_recently_removed_brokers",
                            description = "Whether allow replicas to be moved to recently removed broker", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "replica_movement_strategies",
                            description = "Replica movement strategy to use.", schema = @Schema(type = "string")),
                    @Parameter(in = ParameterIn.QUERY, name = "replication_throttle",
                            description = "Upper bound on the bandwidth used to move replicas (in bytes per second).", schema = @Schema(type = "long")),
                    @Parameter(in = ParameterIn.QUERY, name = "throttle_removed_broker",
                            description = "Whether throttle replica movement out of the removed broker or not.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "destination_broker_ids",
                            description = "Specify brokers to move replicas to.", schema = @Schema(type = "list")),
                    @Parameter(in = ParameterIn.QUERY, name = "json",
                            description = "Return in JSON format or not.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "verbose",
                            description = "Return detailed state information.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "reason",
                            description = "Reason for the request.", schema = @Schema(type = "string")),
                    @Parameter(in = ParameterIn.QUERY, name = "doAs",
                            description = "Propagated user by the trusted proxy service.", schema = @Schema(type = "string")),
                    @Parameter(in = ParameterIn.QUERY, name = "fast_mode",
                            description = "True to compute proposals in fast mode, false otherwise.", schema = @Schema(type = "boolean"))
            },
            responses = {
                    @ApiResponse(responseCode = "200", description = "OK",
                            content =
                            @Content(
                                    mediaType = "application/json",
                                    encoding = @Encoding(contentType = "application/json"),
                                    schema = @Schema(name = "jsonState", example =
                                            "{\"summary\":{\"numIntraBrokerReplicaMovements\":0,\"numReplicaMovements\":0,\"onDemandBalancednessScoreAfter\":93.21842452909542,\"intraBrokerDataToMoveMB\":0,\"monitoredPartitionsPercentage\":100.0,\"provisionRecommendation\":\"\",\"excludedBrokersForReplicaMove\":[],\"excludedBrokersForLeadership\":[],\"provisionStatus\":\"RIGHT_SIZED\",\"onDemandBalancednessScoreBefore\":93.21842452909542,\"recentWindows\":4,\"dataToMoveMB\":0,\"excludedTopics\":[],\"numLeaderMovements\":0},\"goalSummary\":[{\"optimizationTimeMs\":22,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"RackAwareDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":2,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"ReplicaCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"DiskCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"NetworkInboundCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":0,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"NetworkOutboundCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"CpuCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":4,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"ReplicaDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"PotentialNwOutGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":13,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"DiskUsageDistributionGoal\",\"status\":\"VIOLATED\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"NetworkInboundUsageDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"NetworkOutboundUsageDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":0,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"CpuUsageDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"TopicReplicaDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"LeaderReplicaDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":5,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"LeaderBytesInDistributionGoal\",\"status\":\"VIOLATED\"}],\"loadAfterOptimization\":{\"hosts\":[{\"FollowerNwInRate\":0.012567221885547042,\"NwOutRate\":0.15608352958224714,\"NumCore\":3,\"Host\":\"172.30.67.28\",\"CpuPct\":0.2565697021782398,\"Replicas\":129,\"NetworkInCapacity\":110000.0,\"Rack\":\"172.30.67.28\",\"Leaders\":65,\"DiskCapacityMB\":1500000.0,\"DiskMB\":0.7979640960693359,\"PnwOutRate\":0.2363395793363452,\"NetworkOutCapacity\":110000.0,\"LeaderNwInRate\":0.07718259119428694,\"DiskPct\":5.31976064046224E-5}],\"brokers\":[{\"FollowerNwInRate\":0.005724594229832292,\"BrokerState\":\"ALIVE\",\"Broker\":0,\"NwOutRate\":0.02025333675555885,\"NumCore\":1,\"Host\":\"172.30.67.28\",\"CpuPct\":0.06155018135905266,\"Replicas\":47,\"NetworkInCapacity\":50000.0,\"Rack\":\"172.30.67.28\",\"Leaders\":24,\"DiskCapacityMB\":500000.0,\"DiskMB\":0.04088592529296875,\"PnwOutRate\":0.05130255874246359,\"NetworkOutCapacity\":50000.0,\"LeaderNwInRate\":0.0024207483511418104,\"DiskPct\":8.17718505859375E-6},{\"FollowerNwInRate\":0.002272642683237791,\"BrokerState\":\"ALIVE\",\"Broker\":1,\"NwOutRate\":0.04226189246401191,\"NumCore\":1,\"Host\":\"172.30.67.28\",\"CpuPct\":0.07702549546957016,\"Replicas\":43,\"NetworkInCapacity\":50000.0,\"Rack\":\"172.30.67.28\",\"Leaders\":22,\"DiskCapacityMB\":500000.0,\"DiskMB\":0.040592193603515625,\"PnwOutRate\":0.06382533255964518,\"NetworkOutCapacity\":50000.0,\"LeaderNwInRate\":0.006524068769067526,\"DiskPct\":8.118438720703125E-6},{\"FollowerNwInRate\":0.004569984972476959,\"BrokerState\":\"ALIVE\",\"Broker\":2,\"NwOutRate\":0.09356830036267638,\"NumCore\":1,\"Host\":\"172.30.67.28\",\"CpuPct\":0.117994025349617,\"Replicas\":39,\"NetworkInCapacity\":10000.0,\"Rack\":\"172.30.67.28\",\"Leaders\":19,\"DiskCapacityMB\":500000.0,\"DiskMB\":0.7164859771728516,\"PnwOutRate\":0.12121168803423643,\"NetworkOutCapacity\":10000.0,\"LeaderNwInRate\":0.0682377740740776,\"DiskPct\":1.4329719543457032E-4}]},\"version\":1}")
                            )
                    ),
                    @ApiResponse(responseCode = "404", description = "Not found."),
                    @ApiResponse(responseCode = "500", description = "Internal Server Error.")
            }
    )
    void removeBroker(RoutingContext context);

    @Operation(summary = "The following POST request moves all the offline replicas from dead disks/brokers.", method = "POST", operationId = "fix_offline_replicas",
            tags = {
                    "POST"
            },
            parameters = {
                    @Parameter(in = ParameterIn.QUERY, name = "dryrun",
                            description = "Whether dry-run the request or not.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "data_from",
                            description = "Whether to calculate proposal from available valid partitions or valid windows.", schema = @Schema(type = "string")),
                    @Parameter(in = ParameterIn.QUERY, name = "goals",
                            description = "List of goals used to generate proposal.", schema = @Schema(type = "list")),
                    @Parameter(in = ParameterIn.QUERY, name = "kafka_assigner",
                            description = "Whether to use Kafka assigner mode to generate proposals.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "allow_capacity_estimation",
                            description = "Whether to allow broker capacity to be estimated.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "concurrent_partition_movements_per_broker",
                            description = "Upper bound of ongoing replica movements going into/out of each broker.", schema = @Schema(type = "integer")),
                    @Parameter(in = ParameterIn.QUERY, name = "concurrent_leader_movements",
                            description = "Upper bound of ongoing leadership movements.", schema = @Schema(type = "integer")),
                    @Parameter(in = ParameterIn.QUERY, name = "skip_hard_goal_check",
                            description = "Whether allow hard goals be skipped in proposal generation.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "excluded_topics",
                            description = "Regular expression to specify topics excluded from replica and leadership movement.", schema = @Schema(type = "regex")),
                    @Parameter(in = ParameterIn.QUERY, name = "use_ready_default_goals",
                            description = "Whether only use ready goals to generate proposal.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "exclude_recently_demoted_brokers",
                            description = "Whether to allow leader replicas to be moved to recently demoted brokers.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "exclude_recently_removed_brokers",
                            description = "Whether allow replicas to be moved to recently removed broker", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "replica_movement_strategies",
                            description = "Replica movement strategy to use.", schema = @Schema(type = "string")),
                    @Parameter(in = ParameterIn.QUERY, name = "replication_throttle",
                            description = "Upper bound on the bandwidth used to move replicas (in bytes per second).", schema = @Schema(type = "long")),
                    @Parameter(in = ParameterIn.QUERY, name = "json",
                            description = "Return in JSON format or not.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "verbose",
                            description = "Return detailed state information.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "reason",
                            description = "Reason for the request.", schema = @Schema(type = "string")),
                    @Parameter(in = ParameterIn.QUERY, name = "doAs",
                            description = "Propagated user by the trusted proxy service.", schema = @Schema(type = "string")),
                    @Parameter(in = ParameterIn.QUERY, name = "fast_mode",
                            description = "True to compute proposals in fast mode, false otherwise.", schema = @Schema(type = "boolean"))
            },
            responses = {
                    @ApiResponse(responseCode = "200", description = "OK",
                            content =
                            @Content(
                                    mediaType = "application/json",
                                    encoding = @Encoding(contentType = "application/json"),
                                    schema = @Schema(name = "jsonState", example =
                                            "{\"summary\":{\"numIntraBrokerReplicaMovements\":0,\"numReplicaMovements\":0,\"onDemandBalancednessScoreAfter\":93.21842452909542,\"intraBrokerDataToMoveMB\":0,\"monitoredPartitionsPercentage\":100.0,\"provisionRecommendation\":\"\",\"excludedBrokersForReplicaMove\":[],\"excludedBrokersForLeadership\":[],\"provisionStatus\":\"RIGHT_SIZED\",\"onDemandBalancednessScoreBefore\":93.21842452909542,\"recentWindows\":4,\"dataToMoveMB\":0,\"excludedTopics\":[],\"numLeaderMovements\":0},\"goalSummary\":[{\"optimizationTimeMs\":22,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"RackAwareDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":2,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"ReplicaCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"DiskCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"NetworkInboundCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":0,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"NetworkOutboundCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"CpuCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":4,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"ReplicaDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"PotentialNwOutGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":13,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"DiskUsageDistributionGoal\",\"status\":\"VIOLATED\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"NetworkInboundUsageDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"NetworkOutboundUsageDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":0,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"CpuUsageDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"TopicReplicaDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"LeaderReplicaDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":5,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"LeaderBytesInDistributionGoal\",\"status\":\"VIOLATED\"}],\"loadAfterOptimization\":{\"hosts\":[{\"FollowerNwInRate\":0.012567221885547042,\"NwOutRate\":0.15608352958224714,\"NumCore\":3,\"Host\":\"172.30.67.28\",\"CpuPct\":0.2565697021782398,\"Replicas\":129,\"NetworkInCapacity\":110000.0,\"Rack\":\"172.30.67.28\",\"Leaders\":65,\"DiskCapacityMB\":1500000.0,\"DiskMB\":0.7979640960693359,\"PnwOutRate\":0.2363395793363452,\"NetworkOutCapacity\":110000.0,\"LeaderNwInRate\":0.07718259119428694,\"DiskPct\":5.31976064046224E-5}],\"brokers\":[{\"FollowerNwInRate\":0.005724594229832292,\"BrokerState\":\"ALIVE\",\"Broker\":0,\"NwOutRate\":0.02025333675555885,\"NumCore\":1,\"Host\":\"172.30.67.28\",\"CpuPct\":0.06155018135905266,\"Replicas\":47,\"NetworkInCapacity\":50000.0,\"Rack\":\"172.30.67.28\",\"Leaders\":24,\"DiskCapacityMB\":500000.0,\"DiskMB\":0.04088592529296875,\"PnwOutRate\":0.05130255874246359,\"NetworkOutCapacity\":50000.0,\"LeaderNwInRate\":0.0024207483511418104,\"DiskPct\":8.17718505859375E-6},{\"FollowerNwInRate\":0.002272642683237791,\"BrokerState\":\"ALIVE\",\"Broker\":1,\"NwOutRate\":0.04226189246401191,\"NumCore\":1,\"Host\":\"172.30.67.28\",\"CpuPct\":0.07702549546957016,\"Replicas\":43,\"NetworkInCapacity\":50000.0,\"Rack\":\"172.30.67.28\",\"Leaders\":22,\"DiskCapacityMB\":500000.0,\"DiskMB\":0.040592193603515625,\"PnwOutRate\":0.06382533255964518,\"NetworkOutCapacity\":50000.0,\"LeaderNwInRate\":0.006524068769067526,\"DiskPct\":8.118438720703125E-6},{\"FollowerNwInRate\":0.004569984972476959,\"BrokerState\":\"ALIVE\",\"Broker\":2,\"NwOutRate\":0.09356830036267638,\"NumCore\":1,\"Host\":\"172.30.67.28\",\"CpuPct\":0.117994025349617,\"Replicas\":39,\"NetworkInCapacity\":10000.0,\"Rack\":\"172.30.67.28\",\"Leaders\":19,\"DiskCapacityMB\":500000.0,\"DiskMB\":0.7164859771728516,\"PnwOutRate\":0.12121168803423643,\"NetworkOutCapacity\":10000.0,\"LeaderNwInRate\":0.0682377740740776,\"DiskPct\":1.4329719543457032E-4}]},\"version\":1}")
                            )
                    ),
                    @ApiResponse(responseCode = "404", description = "Not found."),
                    @ApiResponse(responseCode = "500", description = "Internal Server Error.")
            }
    )
    void fixOfflineReplicas(RoutingContext context);

    @Operation(summary = "The following POST request moves all the leader replicas away from a list of brokers.", method = "POST", operationId = "demote_broker",
            tags = {
                    "POST"
            },
            parameters = {
                    @Parameter(in = ParameterIn.QUERY, name = "brokerid",
                            description = "List of ids of broker to be demoted in the cluster.", schema = @Schema(type = "list")),
                    @Parameter(in = ParameterIn.QUERY, name = "brokerid_and_logdirs",
                            description = "List of broker id and logdir pair to be demoted in the cluster.", schema = @Schema(type = "list")),
                    @Parameter(in = ParameterIn.QUERY, name = "dryrun",
                            description = "Whether dry-run the request or not.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "allow_capacity_estimation",
                            description = "Whether to allow broker capacity to be estimated.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "concurrent_leader_movements",
                            description = "Upper bound of ongoing leadership movements.", schema = @Schema(type = "integer")),
                    @Parameter(in = ParameterIn.QUERY, name = "skip_urp_demotion",
                            description = "Whether skip demoting leader replicas for under replicated partitions.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "exclude_follower_demotion",
                            description = "Whether skip demoting follower replicas on the broker to be demoted.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "exclude_recently_demoted_brokers",
                            description = "Whether to allow leader replicas to be moved to recently demoted brokers.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "replica_movement_strategies",
                            description = "Replica movement strategy to use.", schema = @Schema(type = "string")),
                    @Parameter(in = ParameterIn.QUERY, name = "replication_throttle",
                            description = "Upper bound on the bandwidth used to move replicas (in bytes per second).", schema = @Schema(type = "long")),
                    @Parameter(in = ParameterIn.QUERY, name = "json",
                            description = "Return in JSON format or not.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "verbose",
                            description = "Return detailed state information.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "reason",
                            description = "Reason for the request.", schema = @Schema(type = "string")),
                    @Parameter(in = ParameterIn.QUERY, name = "doAs",
                            description = "Propagated user by the trusted proxy service.", schema = @Schema(type = "string"))
            },
            responses = {
                    @ApiResponse(responseCode = "200", description = "OK",
                            content =
                            @Content(
                                    mediaType = "application/json",
                                    encoding = @Encoding(contentType = "application/json"),
                                    schema = @Schema(name = "jsonState", example =
                                            "{\"summary\":{\"numIntraBrokerReplicaMovements\":0,\"numReplicaMovements\":0,\"onDemandBalancednessScoreAfter\":93.21842452909542,\"intraBrokerDataToMoveMB\":0,\"monitoredPartitionsPercentage\":100.0,\"provisionRecommendation\":\"\",\"excludedBrokersForReplicaMove\":[],\"excludedBrokersForLeadership\":[],\"provisionStatus\":\"RIGHT_SIZED\",\"onDemandBalancednessScoreBefore\":93.21842452909542,\"recentWindows\":4,\"dataToMoveMB\":0,\"excludedTopics\":[],\"numLeaderMovements\":0},\"goalSummary\":[{\"optimizationTimeMs\":22,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"RackAwareDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":2,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"ReplicaCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"DiskCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"NetworkInboundCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":0,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"NetworkOutboundCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"CpuCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":4,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"ReplicaDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"PotentialNwOutGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":13,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"DiskUsageDistributionGoal\",\"status\":\"VIOLATED\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"NetworkInboundUsageDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"NetworkOutboundUsageDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":0,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"CpuUsageDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"TopicReplicaDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"LeaderReplicaDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":5,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"LeaderBytesInDistributionGoal\",\"status\":\"VIOLATED\"}],\"loadAfterOptimization\":{\"hosts\":[{\"FollowerNwInRate\":0.012567221885547042,\"NwOutRate\":0.15608352958224714,\"NumCore\":3,\"Host\":\"172.30.67.28\",\"CpuPct\":0.2565697021782398,\"Replicas\":129,\"NetworkInCapacity\":110000.0,\"Rack\":\"172.30.67.28\",\"Leaders\":65,\"DiskCapacityMB\":1500000.0,\"DiskMB\":0.7979640960693359,\"PnwOutRate\":0.2363395793363452,\"NetworkOutCapacity\":110000.0,\"LeaderNwInRate\":0.07718259119428694,\"DiskPct\":5.31976064046224E-5}],\"brokers\":[{\"FollowerNwInRate\":0.005724594229832292,\"BrokerState\":\"ALIVE\",\"Broker\":0,\"NwOutRate\":0.02025333675555885,\"NumCore\":1,\"Host\":\"172.30.67.28\",\"CpuPct\":0.06155018135905266,\"Replicas\":47,\"NetworkInCapacity\":50000.0,\"Rack\":\"172.30.67.28\",\"Leaders\":24,\"DiskCapacityMB\":500000.0,\"DiskMB\":0.04088592529296875,\"PnwOutRate\":0.05130255874246359,\"NetworkOutCapacity\":50000.0,\"LeaderNwInRate\":0.0024207483511418104,\"DiskPct\":8.17718505859375E-6},{\"FollowerNwInRate\":0.002272642683237791,\"BrokerState\":\"ALIVE\",\"Broker\":1,\"NwOutRate\":0.04226189246401191,\"NumCore\":1,\"Host\":\"172.30.67.28\",\"CpuPct\":0.07702549546957016,\"Replicas\":43,\"NetworkInCapacity\":50000.0,\"Rack\":\"172.30.67.28\",\"Leaders\":22,\"DiskCapacityMB\":500000.0,\"DiskMB\":0.040592193603515625,\"PnwOutRate\":0.06382533255964518,\"NetworkOutCapacity\":50000.0,\"LeaderNwInRate\":0.006524068769067526,\"DiskPct\":8.118438720703125E-6},{\"FollowerNwInRate\":0.004569984972476959,\"BrokerState\":\"ALIVE\",\"Broker\":2,\"NwOutRate\":0.09356830036267638,\"NumCore\":1,\"Host\":\"172.30.67.28\",\"CpuPct\":0.117994025349617,\"Replicas\":39,\"NetworkInCapacity\":10000.0,\"Rack\":\"172.30.67.28\",\"Leaders\":19,\"DiskCapacityMB\":500000.0,\"DiskMB\":0.7164859771728516,\"PnwOutRate\":0.12121168803423643,\"NetworkOutCapacity\":10000.0,\"LeaderNwInRate\":0.0682377740740776,\"DiskPct\":1.4329719543457032E-4}]},\"version\":1}")
                            )
                    ),
                    @ApiResponse(responseCode = "404", description = "Not found."),
                    @ApiResponse(responseCode = "500", description = "Internal Server Error.")
            }
    )
    void demoteBroker(RoutingContext context);

    @Operation(summary = "The following POST request will let Kafka Cruise Control stop an ongoing rebalance, add_broker, remove_broker, fix_offline_replica, topic_configuration or demote_broker operation.", method = "POST", operationId = "stop_proposal_execution",
            tags = {
                    "POST"
            },
            parameters = {
                    @Parameter(in = ParameterIn.QUERY, name = "force_stop",
                            description = "(not supported in Kafka 2.4 or above) stop an ongoing execution forcefully by deleting Kafka internal zNodes", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "stop_external_agent",
                            description = "(required Kafka 2.4 or above) stop an ongoing execution even if it is started by an external agent.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "review_id",
                            description = "Review id for 2-step verification.", schema = @Schema(type = "integer")),
                    @Parameter(in = ParameterIn.QUERY, name = "json",
                            description = "Return in JSON format or not.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "get_response_schema",
                            description = "Return JSON schema in response header or not.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "doAs",
                            description = "Propagated user by the trusted proxy service.", schema = @Schema(type = "string"))
            },
            responses = {
                    @ApiResponse(responseCode = "200", description = "OK",
                            content =
                            @Content(
                                    mediaType = "application/json",
                                    encoding = @Encoding(contentType = "application/json"),
                                    schema = @Schema(name = "jsonState", example =
                                            "{\"summary\":{\"numIntraBrokerReplicaMovements\":0,\"numReplicaMovements\":0,\"onDemandBalancednessScoreAfter\":93.21842452909542,\"intraBrokerDataToMoveMB\":0,\"monitoredPartitionsPercentage\":100.0,\"provisionRecommendation\":\"\",\"excludedBrokersForReplicaMove\":[],\"excludedBrokersForLeadership\":[],\"provisionStatus\":\"RIGHT_SIZED\",\"onDemandBalancednessScoreBefore\":93.21842452909542,\"recentWindows\":4,\"dataToMoveMB\":0,\"excludedTopics\":[],\"numLeaderMovements\":0},\"goalSummary\":[{\"optimizationTimeMs\":22,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"RackAwareDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":2,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"ReplicaCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"DiskCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"NetworkInboundCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":0,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"NetworkOutboundCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"CpuCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":4,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"ReplicaDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"PotentialNwOutGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":13,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"DiskUsageDistributionGoal\",\"status\":\"VIOLATED\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"NetworkInboundUsageDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"NetworkOutboundUsageDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":0,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"CpuUsageDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"TopicReplicaDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"LeaderReplicaDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":5,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"LeaderBytesInDistributionGoal\",\"status\":\"VIOLATED\"}],\"loadAfterOptimization\":{\"hosts\":[{\"FollowerNwInRate\":0.012567221885547042,\"NwOutRate\":0.15608352958224714,\"NumCore\":3,\"Host\":\"172.30.67.28\",\"CpuPct\":0.2565697021782398,\"Replicas\":129,\"NetworkInCapacity\":110000.0,\"Rack\":\"172.30.67.28\",\"Leaders\":65,\"DiskCapacityMB\":1500000.0,\"DiskMB\":0.7979640960693359,\"PnwOutRate\":0.2363395793363452,\"NetworkOutCapacity\":110000.0,\"LeaderNwInRate\":0.07718259119428694,\"DiskPct\":5.31976064046224E-5}],\"brokers\":[{\"FollowerNwInRate\":0.005724594229832292,\"BrokerState\":\"ALIVE\",\"Broker\":0,\"NwOutRate\":0.02025333675555885,\"NumCore\":1,\"Host\":\"172.30.67.28\",\"CpuPct\":0.06155018135905266,\"Replicas\":47,\"NetworkInCapacity\":50000.0,\"Rack\":\"172.30.67.28\",\"Leaders\":24,\"DiskCapacityMB\":500000.0,\"DiskMB\":0.04088592529296875,\"PnwOutRate\":0.05130255874246359,\"NetworkOutCapacity\":50000.0,\"LeaderNwInRate\":0.0024207483511418104,\"DiskPct\":8.17718505859375E-6},{\"FollowerNwInRate\":0.002272642683237791,\"BrokerState\":\"ALIVE\",\"Broker\":1,\"NwOutRate\":0.04226189246401191,\"NumCore\":1,\"Host\":\"172.30.67.28\",\"CpuPct\":0.07702549546957016,\"Replicas\":43,\"NetworkInCapacity\":50000.0,\"Rack\":\"172.30.67.28\",\"Leaders\":22,\"DiskCapacityMB\":500000.0,\"DiskMB\":0.040592193603515625,\"PnwOutRate\":0.06382533255964518,\"NetworkOutCapacity\":50000.0,\"LeaderNwInRate\":0.006524068769067526,\"DiskPct\":8.118438720703125E-6},{\"FollowerNwInRate\":0.004569984972476959,\"BrokerState\":\"ALIVE\",\"Broker\":2,\"NwOutRate\":0.09356830036267638,\"NumCore\":1,\"Host\":\"172.30.67.28\",\"CpuPct\":0.117994025349617,\"Replicas\":39,\"NetworkInCapacity\":10000.0,\"Rack\":\"172.30.67.28\",\"Leaders\":19,\"DiskCapacityMB\":500000.0,\"DiskMB\":0.7164859771728516,\"PnwOutRate\":0.12121168803423643,\"NetworkOutCapacity\":10000.0,\"LeaderNwInRate\":0.0682377740740776,\"DiskPct\":1.4329719543457032E-4}]},\"version\":1}")
                            )
                    ),
                    @ApiResponse(responseCode = "404", description = "Not found."),
                    @ApiResponse(responseCode = "500", description = "Internal Server Error.")
            }
    )
    void stopProposalExecution(RoutingContext context);

    @Operation(summary = "The following POST request will let Kafka Cruise Control pause an ongoing metrics sampling process.", method = "POST", operationId = "pause_sampling",
            tags = {
                    "POST"
            },
            parameters = {
                    @Parameter(in = ParameterIn.QUERY, name = "reason",
                            description = "Reason to pause sampling.", schema = @Schema(type = "integer")),
                    @Parameter(in = ParameterIn.QUERY, name = "json",
                            description = "Return in JSON format or not.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "doAs",
                            description = "Propagated user by the trusted proxy service.", schema = @Schema(type = "string"))
            },
            responses = {
                    @ApiResponse(responseCode = "200", description = "OK",
                            content =
                            @Content(
                                    mediaType = "application/json",
                                    encoding = @Encoding(contentType = "application/json"),
                                    schema = @Schema(name = "jsonState", example =
                                            "Metric sampling paused.")
                            )
                    ),
                    @ApiResponse(responseCode = "404", description = "Not found."),
                    @ApiResponse(responseCode = "500", description = "Internal Server Error.")
            }
    )
    void pauseSampling(RoutingContext context);

    @Operation(summary = "The following POST request will let Kafka Cruise Control resume a paused metrics sampling process.", method = "POST", operationId = "resume_sampling",
            tags = {
                    "POST"
            },
            parameters = {
                    @Parameter(in = ParameterIn.QUERY, name = "reason",
                            description = "Reason to resume sampling.", schema = @Schema(type = "integer")),
                    @Parameter(in = ParameterIn.QUERY, name = "json",
                            description = "Return in JSON format or not.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "doAs",
                            description = "Propagated user by the trusted proxy service.", schema = @Schema(type = "string"))
            },
            responses = {
                    @ApiResponse(responseCode = "200", description = "OK",
                            content =
                            @Content(
                                    mediaType = "application/json",
                                    encoding = @Encoding(contentType = "application/json"),
                                    schema = @Schema(name = "jsonState", example =
                                            "Metric sampling resumed.")
                            )
                    ),
                    @ApiResponse(responseCode = "404", description = "Not found."),
                    @ApiResponse(responseCode = "500", description = "Internal Server Error.")
            }
    )
    void resumeSampling(RoutingContext context);

    @Operation(summary = "The following POST request can change topic's replication factor.", method = "POST", operationId = "topic_configuration",
            tags = {
                    "POST"
            },
            parameters = {
                    @Parameter(in = ParameterIn.QUERY, name = "dryrun",
                            description = "Whether dry-run the request or not.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "topic",
                            description = "Regular expression to specify subject topics.", schema = @Schema(type = "regex"), required = true),
                    @Parameter(in = ParameterIn.QUERY, name = "replication_factor",
                            description = "Target replication factor.", schema = @Schema(type = "integer"), required = true),
                    @Parameter(in = ParameterIn.QUERY, name = "data_from",
                            description = "Whether to calculate proposal from available valid partitions or valid windows.", schema = @Schema(type = "string")),
                    @Parameter(in = ParameterIn.QUERY, name = "goals",
                            description = "List of goals used to generate proposal.", schema = @Schema(type = "list")),
                    @Parameter(in = ParameterIn.QUERY, name = "allow_capacity_estimation",
                            description = "Whether to allow broker capacity to be estimated.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "concurrent_partition_movements_per_broker",
                            description = "Upper bound of ongoing replica movements going into/out of each broker.", schema = @Schema(type = "integer")),
                    @Parameter(in = ParameterIn.QUERY, name = "concurrent_leader_movements",
                            description = "Upper bound of ongoing leadership movements.", schema = @Schema(type = "integer")),
                    @Parameter(in = ParameterIn.QUERY, name = "skip_hard_goal_check",
                            description = "Whether allow hard goals be skipped in proposal generation.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "use_ready_default_goals",
                            description = "Whether only use ready goals to generate proposal.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "exclude_recently_demoted_brokers",
                            description = "Whether to allow leader replicas to be moved to recently demoted brokers.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "exclude_recently_removed_brokers",
                            description = "Whether allow replicas to be moved to recently removed broker", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "replica_movement_strategies",
                            description = "Replica movement strategy to use.", schema = @Schema(type = "string")),
                    @Parameter(in = ParameterIn.QUERY, name = "replication_throttle",
                            description = "Upper bound on the bandwidth used to move replicas (in bytes per second).", schema = @Schema(type = "long")),
                    @Parameter(in = ParameterIn.QUERY, name = "json",
                            description = "Return in JSON format or not.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "verbose",
                            description = "Return detailed state information.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "reason",
                            description = "Reason for the request.", schema = @Schema(type = "string")),
                    @Parameter(in = ParameterIn.QUERY, name = "doAs",
                            description = "Propagated user by the trusted proxy service.", schema = @Schema(type = "string")),
                    @Parameter(in = ParameterIn.QUERY, name = "fast_mode",
                            description = "True to compute proposals in fast mode, false otherwise.", schema = @Schema(type = "boolean"))
            },
            responses = {
                    @ApiResponse(responseCode = "200", description = "OK",
                            content =
                            @Content(
                                    mediaType = "application/json",
                                    encoding = @Encoding(contentType = "application/json"),
                                    schema = @Schema(name = "jsonState", example =
                                            "{\"summary\":{\"numIntraBrokerReplicaMovements\":0,\"numReplicaMovements\":0,\"onDemandBalancednessScoreAfter\":93.21842452909542,\"intraBrokerDataToMoveMB\":0,\"monitoredPartitionsPercentage\":100.0,\"provisionRecommendation\":\"\",\"excludedBrokersForReplicaMove\":[],\"excludedBrokersForLeadership\":[],\"provisionStatus\":\"RIGHT_SIZED\",\"onDemandBalancednessScoreBefore\":93.21842452909542,\"recentWindows\":4,\"dataToMoveMB\":0,\"excludedTopics\":[],\"numLeaderMovements\":0},\"goalSummary\":[{\"optimizationTimeMs\":22,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"RackAwareDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":2,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"ReplicaCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"DiskCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"NetworkInboundCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":0,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"NetworkOutboundCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"CpuCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":4,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"ReplicaDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"PotentialNwOutGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":13,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"DiskUsageDistributionGoal\",\"status\":\"VIOLATED\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"NetworkInboundUsageDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"NetworkOutboundUsageDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":0,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"CpuUsageDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"TopicReplicaDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"LeaderReplicaDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":5,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"LeaderBytesInDistributionGoal\",\"status\":\"VIOLATED\"}],\"loadAfterOptimization\":{\"hosts\":[{\"FollowerNwInRate\":0.012567221885547042,\"NwOutRate\":0.15608352958224714,\"NumCore\":3,\"Host\":\"172.30.67.28\",\"CpuPct\":0.2565697021782398,\"Replicas\":129,\"NetworkInCapacity\":110000.0,\"Rack\":\"172.30.67.28\",\"Leaders\":65,\"DiskCapacityMB\":1500000.0,\"DiskMB\":0.7979640960693359,\"PnwOutRate\":0.2363395793363452,\"NetworkOutCapacity\":110000.0,\"LeaderNwInRate\":0.07718259119428694,\"DiskPct\":5.31976064046224E-5}],\"brokers\":[{\"FollowerNwInRate\":0.005724594229832292,\"BrokerState\":\"ALIVE\",\"Broker\":0,\"NwOutRate\":0.02025333675555885,\"NumCore\":1,\"Host\":\"172.30.67.28\",\"CpuPct\":0.06155018135905266,\"Replicas\":47,\"NetworkInCapacity\":50000.0,\"Rack\":\"172.30.67.28\",\"Leaders\":24,\"DiskCapacityMB\":500000.0,\"DiskMB\":0.04088592529296875,\"PnwOutRate\":0.05130255874246359,\"NetworkOutCapacity\":50000.0,\"LeaderNwInRate\":0.0024207483511418104,\"DiskPct\":8.17718505859375E-6},{\"FollowerNwInRate\":0.002272642683237791,\"BrokerState\":\"ALIVE\",\"Broker\":1,\"NwOutRate\":0.04226189246401191,\"NumCore\":1,\"Host\":\"172.30.67.28\",\"CpuPct\":0.07702549546957016,\"Replicas\":43,\"NetworkInCapacity\":50000.0,\"Rack\":\"172.30.67.28\",\"Leaders\":22,\"DiskCapacityMB\":500000.0,\"DiskMB\":0.040592193603515625,\"PnwOutRate\":0.06382533255964518,\"NetworkOutCapacity\":50000.0,\"LeaderNwInRate\":0.006524068769067526,\"DiskPct\":8.118438720703125E-6},{\"FollowerNwInRate\":0.004569984972476959,\"BrokerState\":\"ALIVE\",\"Broker\":2,\"NwOutRate\":0.09356830036267638,\"NumCore\":1,\"Host\":\"172.30.67.28\",\"CpuPct\":0.117994025349617,\"Replicas\":39,\"NetworkInCapacity\":10000.0,\"Rack\":\"172.30.67.28\",\"Leaders\":19,\"DiskCapacityMB\":500000.0,\"DiskMB\":0.7164859771728516,\"PnwOutRate\":0.12121168803423643,\"NetworkOutCapacity\":10000.0,\"LeaderNwInRate\":0.0682377740740776,\"DiskPct\":1.4329719543457032E-4}]},\"version\":1}")
                            )
                    ),
                    @ApiResponse(responseCode = "404", description = "Not found."),
                    @ApiResponse(responseCode = "500", description = "Internal Server Error.")
            }
    )
    void topicConfiguration(RoutingContext context);

    @Operation(summary = "Some Cruise Control configs can be changed dynamically via admin endpoint.", method = "POST", operationId = "admin",
            tags = {
                    "POST"
            },
            parameters = {
                    @Parameter(in = ParameterIn.QUERY, name = "disable_self_healing_for",
                            description = "List of anomaly types to disable self-healing.", schema = @Schema(type = "list")),
                    @Parameter(in = ParameterIn.QUERY, name = "enable_self_healing_for",
                            description = "List of anomaly types to enable self-healing.", schema = @Schema(type = "list")),
                    @Parameter(in = ParameterIn.QUERY, name = "concurrent_partition_movements_per_broker",
                            description = "Upper bound of ongoing replica movements into/out of a broker.", schema = @Schema(type = "integer")),
                    @Parameter(in = ParameterIn.QUERY, name = "concurrent_intra_broker_partition_movements",
                            description = "Upper bound of ongoing replica movements between disks within a broker.", schema = @Schema(type = "integer")),
                    @Parameter(in = ParameterIn.QUERY, name = "concurrent_leader_movements",
                            description = "Upper bound of ongoing leadership movements.", schema = @Schema(type = "integer")),
                    @Parameter(in = ParameterIn.QUERY, name = "drop_recently_removed_brokers",
                            description = "List of id of recently removed brokers to be dropped.", schema = @Schema(type = "list")),
                    @Parameter(in = ParameterIn.QUERY, name = "drop_recently_demoted_brokers",
                            description = "List of id of recently demoted brokers to be dropped.", schema = @Schema(type = "list")),
                    @Parameter(in = ParameterIn.QUERY, name = "doAs",
                            description = "Propagated user by the trusted proxy service.", schema = @Schema(type = "string")),
                    @Parameter(in = ParameterIn.QUERY, name = "json",
                            description = "Return in JSON format or not.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "review_id",
                            description = "Review id for 2-step verification.", schema = @Schema(type = "integer")),
                    @Parameter(in = ParameterIn.QUERY, name = "execution_progress_check_interval_ms",
                            description = "Execution progress check interval in milliseconds.", schema = @Schema(type = "long")),
                    @Parameter(in = ParameterIn.QUERY, name = "get_response_schema",
                            description = "Return JSON schema in response header or not.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "disable_concurrency_adjuster_for",
                            description = "Disable concurrency adjuster for given concurrency types.", schema = @Schema(type = "list")),
                    @Parameter(in = ParameterIn.QUERY, name = "enable_concurrency_adjuster_for",
                            description = "Enable concurrency adjuster for given concurrency types.", schema = @Schema(type = "list")),
                    @Parameter(in = ParameterIn.QUERY, name = "min_isr_based_concurrency_adjustment",
                            description = "Enable (true) or disable (false) MinISR-based concurrency adjustment.", schema = @Schema(type = "boolean"))
            },
            responses = {
                    @ApiResponse(responseCode = "200", description = "OK",
                            content =
                            @Content(
                                    mediaType = "application/json",
                                    encoding = @Encoding(contentType = "application/json"),
                                    schema = @Schema(name = "jsonState", example =
                                            "{\"summary\":{\"numIntraBrokerReplicaMovements\":0,\"numReplicaMovements\":0,\"onDemandBalancednessScoreAfter\":93.21842452909542,\"intraBrokerDataToMoveMB\":0,\"monitoredPartitionsPercentage\":100.0,\"provisionRecommendation\":\"\",\"excludedBrokersForReplicaMove\":[],\"excludedBrokersForLeadership\":[],\"provisionStatus\":\"RIGHT_SIZED\",\"onDemandBalancednessScoreBefore\":93.21842452909542,\"recentWindows\":4,\"dataToMoveMB\":0,\"excludedTopics\":[],\"numLeaderMovements\":0},\"goalSummary\":[{\"optimizationTimeMs\":22,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"RackAwareDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":2,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"ReplicaCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"DiskCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"NetworkInboundCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":0,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"NetworkOutboundCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"CpuCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":4,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"ReplicaDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"PotentialNwOutGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":13,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"DiskUsageDistributionGoal\",\"status\":\"VIOLATED\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"NetworkInboundUsageDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"NetworkOutboundUsageDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":0,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"CpuUsageDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"TopicReplicaDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"LeaderReplicaDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":5,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"LeaderBytesInDistributionGoal\",\"status\":\"VIOLATED\"}],\"loadAfterOptimization\":{\"hosts\":[{\"FollowerNwInRate\":0.012567221885547042,\"NwOutRate\":0.15608352958224714,\"NumCore\":3,\"Host\":\"172.30.67.28\",\"CpuPct\":0.2565697021782398,\"Replicas\":129,\"NetworkInCapacity\":110000.0,\"Rack\":\"172.30.67.28\",\"Leaders\":65,\"DiskCapacityMB\":1500000.0,\"DiskMB\":0.7979640960693359,\"PnwOutRate\":0.2363395793363452,\"NetworkOutCapacity\":110000.0,\"LeaderNwInRate\":0.07718259119428694,\"DiskPct\":5.31976064046224E-5}],\"brokers\":[{\"FollowerNwInRate\":0.005724594229832292,\"BrokerState\":\"ALIVE\",\"Broker\":0,\"NwOutRate\":0.02025333675555885,\"NumCore\":1,\"Host\":\"172.30.67.28\",\"CpuPct\":0.06155018135905266,\"Replicas\":47,\"NetworkInCapacity\":50000.0,\"Rack\":\"172.30.67.28\",\"Leaders\":24,\"DiskCapacityMB\":500000.0,\"DiskMB\":0.04088592529296875,\"PnwOutRate\":0.05130255874246359,\"NetworkOutCapacity\":50000.0,\"LeaderNwInRate\":0.0024207483511418104,\"DiskPct\":8.17718505859375E-6},{\"FollowerNwInRate\":0.002272642683237791,\"BrokerState\":\"ALIVE\",\"Broker\":1,\"NwOutRate\":0.04226189246401191,\"NumCore\":1,\"Host\":\"172.30.67.28\",\"CpuPct\":0.07702549546957016,\"Replicas\":43,\"NetworkInCapacity\":50000.0,\"Rack\":\"172.30.67.28\",\"Leaders\":22,\"DiskCapacityMB\":500000.0,\"DiskMB\":0.040592193603515625,\"PnwOutRate\":0.06382533255964518,\"NetworkOutCapacity\":50000.0,\"LeaderNwInRate\":0.006524068769067526,\"DiskPct\":8.118438720703125E-6},{\"FollowerNwInRate\":0.004569984972476959,\"BrokerState\":\"ALIVE\",\"Broker\":2,\"NwOutRate\":0.09356830036267638,\"NumCore\":1,\"Host\":\"172.30.67.28\",\"CpuPct\":0.117994025349617,\"Replicas\":39,\"NetworkInCapacity\":10000.0,\"Rack\":\"172.30.67.28\",\"Leaders\":19,\"DiskCapacityMB\":500000.0,\"DiskMB\":0.7164859771728516,\"PnwOutRate\":0.12121168803423643,\"NetworkOutCapacity\":10000.0,\"LeaderNwInRate\":0.0682377740740776,\"DiskPct\":1.4329719543457032E-4}]},\"version\":1}")
                            )
                    ),
                    @ApiResponse(responseCode = "404", description = "Not found."),
                    @ApiResponse(responseCode = "500", description = "Internal Server Error.")
            }
    )
    void admin(RoutingContext context);

    @Operation(summary = "The following POST request can create a request to the provisioner to rightsize the broker or partition of a cluster.", method = "POST", operationId = "karightsize",
            tags = {
                    "POST"
            },
            parameters = {
                    @Parameter(in = ParameterIn.QUERY, name = "num_brokers_to_add",
                            description = "Difference in broker count to rightsize towards.", schema = @Schema(type = "integer")),
                    @Parameter(in = ParameterIn.QUERY, name = "partition_count",
                            description = "Target number of partitions to rightsize towards.", schema = @Schema(type = "integer")),
                    @Parameter(in = ParameterIn.QUERY, name = "topic",
                            description = "Regular expression to specify subject topics.", schema = @Schema(type = "regex")),
                    @Parameter(in = ParameterIn.QUERY, name = "doAs",
                            description = "Propagated user by the trusted proxy service.", schema = @Schema(type = "string")),
                    @Parameter(in = ParameterIn.QUERY, name = "get_response_schema",
                            description = "Return JSON schema in response header or not.", schema = @Schema(type = "boolean")),
                    @Parameter(in = ParameterIn.QUERY, name = "json",
                            description = "Return in JSON format or not.", schema = @Schema(type = "boolean"))
            },
            responses = {
                    @ApiResponse(responseCode = "200", description = "OK",
                            content =
                            @Content(
                                    mediaType = "application/json",
                                    encoding = @Encoding(contentType = "application/json"),
                                    schema = @Schema(name = "jsonState", example =
                                            "{\"summary\":{\"numIntraBrokerReplicaMovements\":0,\"numReplicaMovements\":0,\"onDemandBalancednessScoreAfter\":93.21842452909542,\"intraBrokerDataToMoveMB\":0,\"monitoredPartitionsPercentage\":100.0,\"provisionRecommendation\":\"\",\"excludedBrokersForReplicaMove\":[],\"excludedBrokersForLeadership\":[],\"provisionStatus\":\"RIGHT_SIZED\",\"onDemandBalancednessScoreBefore\":93.21842452909542,\"recentWindows\":4,\"dataToMoveMB\":0,\"excludedTopics\":[],\"numLeaderMovements\":0},\"goalSummary\":[{\"optimizationTimeMs\":22,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"RackAwareDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":2,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"ReplicaCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"DiskCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"NetworkInboundCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":0,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"NetworkOutboundCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"CpuCapacityGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":4,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"ReplicaDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"PotentialNwOutGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":13,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"DiskUsageDistributionGoal\",\"status\":\"VIOLATED\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"NetworkInboundUsageDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"NetworkOutboundUsageDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":0,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"CpuUsageDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"TopicReplicaDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":1,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"LeaderReplicaDistributionGoal\",\"status\":\"NO-ACTION\"},{\"optimizationTimeMs\":5,\"clusterModelStats\":{\"metadata\":{\"replicas\":129,\"topics\":3,\"brokers\":3},\"statistics\":{\"AVG\":{\"disk\":0.265988032023112,\"replicas\":43.0,\"leaderReplicas\":21.666666666666668,\"cpu\":0.08552322785059611,\"networkOutbound\":0.05202784575521946,\"networkInbound\":0.02991660435994466,\"topicReplicas\":14.333333333333334,\"potentialNwOut\":0.07877985977878173},\"STD\":{\"disk\":0.31855017449655626,\"replicas\":3.265986323710904,\"leaderReplicas\":2.0548046676563256,\"cpu\":0.0,\"networkOutbound\":0.0,\"networkInbound\":0.0,\"topicReplicas\":3.081842664009452,\"potentialNwOut\":0.07070220138502471},\"MIN\":{\"disk\":0.040592193603515625,\"replicas\":39,\"leaderReplicas\":19,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":0,\"potentialNwOut\":0.05130255874246359},\"MAX\":{\"disk\":0.7164859771728516,\"replicas\":47,\"leaderReplicas\":24,\"cpu\":0.25656968355178833,\"networkOutbound\":0.15608353726565838,\"networkInbound\":0.08974981307983398,\"topicReplicas\":26,\"potentialNwOut\":0.12121168803423643}}},\"goal\":\"LeaderBytesInDistributionGoal\",\"status\":\"VIOLATED\"}],\"loadAfterOptimization\":{\"hosts\":[{\"FollowerNwInRate\":0.012567221885547042,\"NwOutRate\":0.15608352958224714,\"NumCore\":3,\"Host\":\"172.30.67.28\",\"CpuPct\":0.2565697021782398,\"Replicas\":129,\"NetworkInCapacity\":110000.0,\"Rack\":\"172.30.67.28\",\"Leaders\":65,\"DiskCapacityMB\":1500000.0,\"DiskMB\":0.7979640960693359,\"PnwOutRate\":0.2363395793363452,\"NetworkOutCapacity\":110000.0,\"LeaderNwInRate\":0.07718259119428694,\"DiskPct\":5.31976064046224E-5}],\"brokers\":[{\"FollowerNwInRate\":0.005724594229832292,\"BrokerState\":\"ALIVE\",\"Broker\":0,\"NwOutRate\":0.02025333675555885,\"NumCore\":1,\"Host\":\"172.30.67.28\",\"CpuPct\":0.06155018135905266,\"Replicas\":47,\"NetworkInCapacity\":50000.0,\"Rack\":\"172.30.67.28\",\"Leaders\":24,\"DiskCapacityMB\":500000.0,\"DiskMB\":0.04088592529296875,\"PnwOutRate\":0.05130255874246359,\"NetworkOutCapacity\":50000.0,\"LeaderNwInRate\":0.0024207483511418104,\"DiskPct\":8.17718505859375E-6},{\"FollowerNwInRate\":0.002272642683237791,\"BrokerState\":\"ALIVE\",\"Broker\":1,\"NwOutRate\":0.04226189246401191,\"NumCore\":1,\"Host\":\"172.30.67.28\",\"CpuPct\":0.07702549546957016,\"Replicas\":43,\"NetworkInCapacity\":50000.0,\"Rack\":\"172.30.67.28\",\"Leaders\":22,\"DiskCapacityMB\":500000.0,\"DiskMB\":0.040592193603515625,\"PnwOutRate\":0.06382533255964518,\"NetworkOutCapacity\":50000.0,\"LeaderNwInRate\":0.006524068769067526,\"DiskPct\":8.118438720703125E-6},{\"FollowerNwInRate\":0.004569984972476959,\"BrokerState\":\"ALIVE\",\"Broker\":2,\"NwOutRate\":0.09356830036267638,\"NumCore\":1,\"Host\":\"172.30.67.28\",\"CpuPct\":0.117994025349617,\"Replicas\":39,\"NetworkInCapacity\":10000.0,\"Rack\":\"172.30.67.28\",\"Leaders\":19,\"DiskCapacityMB\":500000.0,\"DiskMB\":0.7164859771728516,\"PnwOutRate\":0.12121168803423643,\"NetworkOutCapacity\":10000.0,\"LeaderNwInRate\":0.0682377740740776,\"DiskPct\":1.4329719543457032E-4}]},\"version\":1}")
                            )
                    ),
                    @ApiResponse(responseCode = "404", description = "Not found."),
                    @ApiResponse(responseCode = "500", description = "Internal Server Error.")
            }
    )
    void rightsize(RoutingContext context);
}
